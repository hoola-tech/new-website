{"componentChunkName":"component---src-components-blog-blog-template-js","path":"/blog/create-github-contributors-plugin-for-gatsby","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"slug\": \"blog/create-github-contributors-plugin-for-gatsby\",\n  \"title\": \"How to Create Github Contributors Plugin for Gatsby\",\n  \"description\": \"Learn how to create a Gatsby source plugin that will display a list of contributors to a Github repository.\",\n  \"tags\": [\"Web development\", \"Gatsby\", \"Github\", \"React\", \"Open source\"],\n  \"featureImage\": \"./assets/create-github-contributors-plugin-for-gatsby/gatsby-source-plugin-github.png\",\n  \"author\": \"ashu\",\n  \"date\": \"2020-09-28T00:00:00.000Z\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In this tutorial, we'll be creating a Gatsby source plugin, which will fetch all contributors to a given Github repo. We'll also learn how to use that plugin in a Gatsby site to render a list of contributors.\"), mdx(\"p\", null, \"Let's take a sneak peek \\uD83D\\uDE09 of what we'll get in the end:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/63b0b6ccf3642f9d50371ef98544a0af/d93d9/gatsby-source-plugin-github.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"70%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACt0lEQVQoz0WS3W8MURiH/RP+AnHXCy4kLrghriQS4sqFukCiDfVRIkLiBhdoGiIIRZA0oSq0kVV0RbTaVW2222V1u1+d3Z3Z2fncmTln5syZ82O6K5Jz8ebN++Q878e60BPMFZ7BXY27OidW5Jm81Yxj3448gxOTOzonZkTMqJ0nZvxCT6xrw1YjVCuBVmWmHNpqqFV9aZlKy7SwRGoFX8pTqxFaClPKRClTR+NWI+zAoSdEAEQQPjgRUQAAjAhH44HJQdfyVAhfQMRlEY3LOjAnaDXtQuYntYjwoUrK9/GEXqmCI6OEI/P18ZwdeDA1YyqVmP+epC2fe4hh5nJwzH36eLe3W5NqiJCdTw0c2jv99g2A4Xxw4OSV4yOzDkOllOs7s/1E/66mqgkK5kYdePLN22s9R4u5AoC5xNjg2Z6JxBdEyFTI9VuvkrM5ziBXq0OPz9+4fVpXrQ7c1jYatlSqEyuIKIgVaHXTb4WcwG9FisJaOuOeCImwDdcyXOHHZKwdUbgmS757/ePZVa9WEQxNWZtITJiahRC539LNO8OD954EDmuZfuZXOfF5Tm84az+vDUz4OHOqf9vG9amXDwAoNWXo0cNMOgNgciLZvXNr78H9vicck079yA4MjVZXdQSdnqOI4tvU/KOHzys/8+DQZONr8ls+u4IQRkVJjY0vvp8MHC4CLCyWMtnSf+12zzPTC0+fjWTSywgRuKHaajLKuRdvm9LIpwIB6mV5fPT9xw9LrhFwgv9HcuTYyQ1dmy9fvgqg3qy/WBkuNUugcCx3KbtYKhYBLMzMHd63Z/eOveXlKti/aQuKc+cudm3acuf2fQArjUJKms2reVB4Nk2n0+ViGQx6Tb10ou9CT68p623zjrbddKWiTKxgbT2hpljEZnHscFN1bM1rC8qrmi4b7dv8q/0HH9jfRTv/5tcAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"github widget\",\n    \"title\": \"github widget\",\n    \"src\": \"/static/63b0b6ccf3642f9d50371ef98544a0af/5a190/gatsby-source-plugin-github.png\",\n    \"srcSet\": [\"/static/63b0b6ccf3642f9d50371ef98544a0af/772e8/gatsby-source-plugin-github.png 200w\", \"/static/63b0b6ccf3642f9d50371ef98544a0af/e17e5/gatsby-source-plugin-github.png 400w\", \"/static/63b0b6ccf3642f9d50371ef98544a0af/5a190/gatsby-source-plugin-github.png 800w\", \"/static/63b0b6ccf3642f9d50371ef98544a0af/c1b63/gatsby-source-plugin-github.png 1200w\", \"/static/63b0b6ccf3642f9d50371ef98544a0af/d93d9/gatsby-source-plugin-github.png 1243w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"hr\", null), mdx(\"h2\", {\n    \"id\": \"the-big-picture\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"The Big Picture:\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#the-big-picture\",\n    \"aria-label\": \"the big picture permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"One question that you might ask is: \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"What is a source plugin?\")), mdx(\"p\", null, \"Source plugins \\\"source data\\\" from remote or local locations into a format that Gatsby can process.\"), mdx(\"p\", null, \"First, we'll build a plugin with the following behavior:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Make an API request to the Github API.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Convert the data returned by the API to Gatsby's node system.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Accept plugin options to customize how our plugin works.\")), mdx(\"p\", null, \"And then, we'll do the following steps to using that plugin:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Configure our plugin in our site's \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gatsby-config.js\"), \" file.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Write GraphQL queries to access our plugin's data.\")), mdx(\"hr\", null), mdx(\"h2\", {\n    \"id\": \"how-to-create-a-source-plugin-for-gatsby\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"How to Create a Source Plugin for Gatsby\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#how-to-create-a-source-plugin-for-gatsby\",\n    \"aria-label\": \"how to create a source plugin for gatsby permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"We'll follow a simple step-by-step process to build the plugin:\"), mdx(\"h4\", {\n    \"id\": \"set-up-projects-for-plugin-development\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Set Up Projects for Plugin Development\", mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#set-up-projects-for-plugin-development\",\n    \"aria-label\": \"set up projects for plugin development permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"We'll set up an example site and create a plugin inside it to begin building.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Set up an example site\"))), mdx(\"p\", null, \"Let's create a new Gatsby site with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby new\"), \" command, based on the hello world starter.\"), mdx(\"deckgo-highlight-code\", {\n    \"highlight-lines\": \"undefined\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"gatsby new example-site https://github.com/gatsbyjs/gatsby-starter-hello-world\"), \"\\n        \"), mdx(\"p\", null, \"This site generated by the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"new\"), \" command is where we install the plugin. It will give us a place to test the code for our plugin.\"), mdx(\"ol\", {\n    \"start\": 2\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Set up a source plugin\"))), mdx(\"p\", null, \"Let's create a new Gatsby plugin with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby new\"), \" command, this time based on the plugin starter.\"), mdx(\"deckgo-highlight-code\", {\n    \"highlight-lines\": \"undefined\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"gatsby new source-plugin https://github.com/gatsbyjs/gatsby-starter-plugin\"), \"\\n        \"), mdx(\"p\", null, \"This command will create our plugin in a separate project from our example site.\"), mdx(\"ol\", {\n    \"start\": 3\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Install the plugin in the example site\"))), mdx(\"p\", null, \"We're going to install the plugin in the example-site to make sure it works. Gatsby can only run plugins that are included in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-config.js\"), \", so let's do that.\\nHere is what the config will look like:\"), mdx(\"deckgo-highlight-code\", {\n    \"highlight-lines\": \"undefined\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"module.exports = {\\n    /* Your site config here */\\n    plugins: [require.resolve(`../source-plugin`)],\\n}\"), \"\\n        \"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Note: Restart the development server, after changing the \", mdx(\"inlineCode\", {\n    parentName: \"em\"\n  }, \"gatsby-config.js\"), \" file. Otherwise, changes made to the config won't reflect in the project.\")), mdx(\"hr\", null), mdx(\"h4\", {\n    \"id\": \"source-data-and-create-nodes\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Source Data and Create Nodes\", mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#source-data-and-create-nodes\",\n    \"aria-label\": \"source data and create nodes permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"Now that we've setup the project for development, it's time to fill in the details.\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-node.js\"), \" file is the place where the logic responsible for sourcing the data lives.\"), mdx(\"p\", null, \"In that file, Gatsby exposes an API sourceNodes. There we'll use a Gatsby function named createNode. As the name suggests, it handles the creation of a new node.\"), mdx(\"p\", null, \"Let's add the following code in our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-node.js\"), \" file:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"// constants for your GraphQL Contributor type\\nconst CONTRIBUTOR_NODE_TYPE = `Contributor`;\\n\\nexports.sourceNodes = async (\\n  { actions, createContentDigest, createNodeId },\\n  pluginOptions\\n) => {\\n  // A Gatsby function responsible for `creating a node`\\n  const { createNode } = actions;\\n\\n  let contributors = [];\\n\\n  try {\\n    // loop through \\\"contributors\\\" and create Gatsby nodes\\n    contributors.forEach((contributor) =>\\n      createNode({\\n        ...contributor,\\n        id: createNodeId(`${CONTRIBUTOR_NODE_TYPE}-${contributor.id}`),\\n        parent: null,\\n        children: [],\\n        internal: {\\n          type: CONTRIBUTOR_NODE_TYPE,\\n          content: JSON.stringify(contributor),\\n          contentDigest: createContentDigest(contributor)\\n        }\\n      })\\n    );\\n  } catch (error) {\\n    console.error(error);\\n  }\\n\\n  return;\\n};\"), \"\\n        \"), mdx(\"p\", null, \"Now we have all the structure and logic for creating \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby nodes\"), \" in place.\"), mdx(\"p\", null, \"Let's add the real thing, the logic for fetching real data from the Github API. We'll use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node-fetch\"), \" to make an API call. You're welcome to use any alternative library of your choice.\"), mdx(\"p\", null, \"Add it as a dependency by running:\"), mdx(\"deckgo-highlight-code\", {\n    \"highlight-lines\": \"undefined\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"npm install node-fetch\"), \"\\n        \"), mdx(\"p\", null, \"After installing the dependency, we'll make necessary changes to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-node.js\"), \" file. And after that, the code will look as follows:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"const fetch = require(\\\"node-fetch\\\");\\n\\n// constants for your GraphQL Contributor type\\nconst CONTRIBUTOR_NODE_TYPE = `Contributor`;\\n\\nexports.sourceNodes = async (\\n  { actions, createContentDigest, createNodeId },\\n  pluginOptions\\n) => {\\n  const { createNode } = actions;\\n\\n  let contributors = [];\\n  const repoName = \\\"webiny/webiny-js\\\";\\n  // construct the API URL\\n  const githubRepoURL = `https://api.github.com/repos/${repoName}/contributors`;\\n\\n  try {\\n    // make an API call\\n    const response = await fetch(githubRepoURL);\\n    // convert response to JSON\\n    const contributors = await response.json();\\n    // loop through \\\"contributors\\\" and create Gatsby nodes\\n    contributors.forEach((contributor) =>\\n      createNode({\\n        ...contributor,\\n        id: createNodeId(`${CONTRIBUTOR_NODE_TYPE}-${contributor.id}`),\\n        parent: null,\\n        children: [],\\n        internal: {\\n          type: CONTRIBUTOR_NODE_TYPE,\\n          content: JSON.stringify(contributor),\\n          contentDigest: createContentDigest(contributor)\\n        }\\n      })\\n    );\\n  } catch (error) {\\n    console.error(error);\\n  }\\n\\n  return;\\n};\"), \"\\n        \"), mdx(\"p\", null, \"Let's restart the example-site project and visit \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:8000/___graphql\"\n  }, \"http://localhost:8000/\", \"_\", \"_\", \"_\", \"graphql\")), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/a68f06f714aaf52e0e9126e67a65c666/d4377/gatsby-plugin-graphql.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"56.49999999999999%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABT0lEQVQoz32R227bMBBE9f/f2CBO7EoyRXK5d1KRzFZ2ULho0sGCT3Mw3NmhqTlba2vv3dyu8zWFiEgiwsTMxwMAJUMhegzeJ2UYGNSk9buYiZBz1m3b+5PcfA5lyWwoJm5ipu61DRlN68fDhIhiNharH9sz3FpLrKdzTKeFZpAZJBRVH9jqJdK233rvpRRV9XXb9r+Sq9ec6P1nooRWREEU1bwO6u19oYcbiVpr/R/V2gpJmAHPkReUUCSimQ8oFlEfJvoGbrUm4B9vIY9ZFpJr0Uz35LqOWdp9ye/g6rUAx1COVUEU+PPb3tZz5Lr+Dz4KI315C+k18ARyLTKDig1Amsj/tP11slWIOE6ZEx2xkTTzkXyOFMj329G2qq7r+mUyiE5TxkvmzJpJixzwmI7Lbdt2u+3uzszHtdzrk1Q0J3o5BbhEmYtMIAF/w78AVfV6WoxFYTkAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Graphql\",\n    \"title\": \"Graphql\",\n    \"src\": \"/static/a68f06f714aaf52e0e9126e67a65c666/5a190/gatsby-plugin-graphql.png\",\n    \"srcSet\": [\"/static/a68f06f714aaf52e0e9126e67a65c666/772e8/gatsby-plugin-graphql.png 200w\", \"/static/a68f06f714aaf52e0e9126e67a65c666/e17e5/gatsby-plugin-graphql.png 400w\", \"/static/a68f06f714aaf52e0e9126e67a65c666/5a190/gatsby-plugin-graphql.png 800w\", \"/static/a68f06f714aaf52e0e9126e67a65c666/c1b63/gatsby-plugin-graphql.png 1200w\", \"/static/a68f06f714aaf52e0e9126e67a65c666/d4377/gatsby-plugin-graphql.png 1294w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"As we can see there is a new query \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"allContributor\"), \" available for us to use.\"), mdx(\"p\", null, \"As it is, our plugin works fine. But, there is a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"small problem\"), \". It only fetches the contributor of a particular Github repo. And there is no way to change that value, which makes it hard to reuse by others. Let's fix this right away.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"We can pass options into a plugin through a \", mdx(\"inlineCode\", {\n    parentName: \"em\"\n  }, \"gatsby-config.js\"), \" file.\")), mdx(\"p\", null, \"Let's update the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-config.js\"), \" file in our example-site. We'll change the plugin from a string to an object with a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"resolve\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"options\"), \" key.\"), mdx(\"p\", null, \"After the changes the file will look like this:\"), mdx(\"deckgo-highlight-code\", {\n    \"highlight-lines\": \"undefined\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"module.exports = {\\n/* Your site config here */\\n  plugins: [\\n  {\\n   resolve: require.resolve(`../source-plugin`),\\n   // These options will be available in Gatsby node API\\n   options: {\\n    repo: \\\"webiny/webiny-js\\\",\\n   },\\n  },\\n ],\\n}\"), \"\\n        \"), mdx(\"p\", null, \"Now that we've added the repo as an option to our plugin, let's update our plugin source code to use that instead of the hard coded value.\"), mdx(\"p\", null, \"We'll make the following change:\"), mdx(\"deckgo-highlight-code\", {\n    \"highlight-lines\": \"undefined\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"// ... some code\\n// use repo name from plugin options\\nconst repoName = pluginOptions.repo;\\n// construct the API URL\\nconst githubRepoURL = `https://api.github.com/repos/${repoName}/contributors`;\\n// remaing code is removed for brevity\"), \"\\n        \"), mdx(\"hr\", null), mdx(\"h4\", {\n    \"id\": \"using-data-from-the-source-plugin-in-a-site\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Using Data From the Source Plugin in a Site\", mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#using-data-from-the-source-plugin-in-a-site\",\n    \"aria-label\": \"using data from the source plugin in a site permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"Now, our source plugin is ready. Let's use its data to render the contributors list in our example-site.\"), mdx(\"p\", null, \"In our example-site, we'll now query data from pages.\"), mdx(\"p\", null, \"Add the following code to file at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"example-site/src/pages/index.js\"), \":\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"import React from \\\"react\\\"\\nimport { graphql } from \\\"gatsby\\\"\\nimport \\\"../styles/main.css\\\"\\n\\nexport default function Home({ data }) {\\n  return (\\n    <div className=\\\"container\\\">\\n      <h1 className=\\\"heading\\\">\\n        Creating a GitHub contributors widget for gatsby.js\\n      </h1>\\n      <div className=\\\"grid\\\">\\n        {data.allContributor.nodes.map(contributor => (\\n          <div\\n            className=\\\"contributor-card\\\"\\n            key={contributor.id}\\n            onClick={() => {\\n              window.open(contributor.html_url, \\\"_blank\\\", \\\"noopener noreferrer\\\")\\n            }}\\n            onKeyDown={event => {\\n              if (event.key === \\\"Enter\\\") {\\n                window.open(\\n                  contributor.html_url,\\n                  \\\"_blank\\\",\\n                  \\\"noopener noreferrer\\\"\\n                )\\n              }\\n            }}\\n            tabIndex=\\\"0\\\"\\n            role=\\\"button\\\"\\n          >\\n            <img\\n              src={contributor.avatar_url}\\n              alt={contributor.login}\\n              className=\\\"card__img\\\"\\n            />\\n            <h5 className=\\\"card__name\\\">{contributor.login}</h5>\\n          </div>\\n        ))}\\n      </div>\\n    </div>\\n  )\\n}\\n\\nexport const query = graphql`\\n  {\\n    allContributor {\\n      nodes {\\n        id\\n        login\\n        contributions\\n        url\\n        type\\n        html_url\\n        gravatar_id\\n        avatar_url\\n      }\\n    }\\n  }\\n`\"), \"\\n        \"), mdx(\"p\", null, \"Here we're using the GraphQL query \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"allContributor\"), \" to get all contributor's data. As mentioned earlier, this data is generated by our source plugin.\"), mdx(\"p\", null, \"After making these changes our example-site home page will look something like this:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/63b0b6ccf3642f9d50371ef98544a0af/d93d9/gatsby-source-plugin-github.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"70%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACt0lEQVQoz0WS3W8MURiH/RP+AnHXCy4kLrghriQS4sqFukCiDfVRIkLiBhdoGiIIRZA0oSq0kVV0RbTaVW2222V1u1+d3Z3Z2fncmTln5syZ82O6K5Jz8ebN++Q878e60BPMFZ7BXY27OidW5Jm81Yxj3448gxOTOzonZkTMqJ0nZvxCT6xrw1YjVCuBVmWmHNpqqFV9aZlKy7SwRGoFX8pTqxFaClPKRClTR+NWI+zAoSdEAEQQPjgRUQAAjAhH44HJQdfyVAhfQMRlEY3LOjAnaDXtQuYntYjwoUrK9/GEXqmCI6OEI/P18ZwdeDA1YyqVmP+epC2fe4hh5nJwzH36eLe3W5NqiJCdTw0c2jv99g2A4Xxw4OSV4yOzDkOllOs7s/1E/66mqgkK5kYdePLN22s9R4u5AoC5xNjg2Z6JxBdEyFTI9VuvkrM5ziBXq0OPz9+4fVpXrQ7c1jYatlSqEyuIKIgVaHXTb4WcwG9FisJaOuOeCImwDdcyXOHHZKwdUbgmS757/ePZVa9WEQxNWZtITJiahRC539LNO8OD954EDmuZfuZXOfF5Tm84az+vDUz4OHOqf9vG9amXDwAoNWXo0cNMOgNgciLZvXNr78H9vicck079yA4MjVZXdQSdnqOI4tvU/KOHzys/8+DQZONr8ls+u4IQRkVJjY0vvp8MHC4CLCyWMtnSf+12zzPTC0+fjWTSywgRuKHaajLKuRdvm9LIpwIB6mV5fPT9xw9LrhFwgv9HcuTYyQ1dmy9fvgqg3qy/WBkuNUugcCx3KbtYKhYBLMzMHd63Z/eOveXlKti/aQuKc+cudm3acuf2fQArjUJKms2reVB4Nk2n0+ViGQx6Tb10ou9CT68p623zjrbddKWiTKxgbT2hpljEZnHscFN1bM1rC8qrmi4b7dv8q/0HH9jfRTv/5tcAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"github widget\",\n    \"title\": \"github widget\",\n    \"src\": \"/static/63b0b6ccf3642f9d50371ef98544a0af/5a190/gatsby-source-plugin-github.png\",\n    \"srcSet\": [\"/static/63b0b6ccf3642f9d50371ef98544a0af/772e8/gatsby-source-plugin-github.png 200w\", \"/static/63b0b6ccf3642f9d50371ef98544a0af/e17e5/gatsby-source-plugin-github.png 400w\", \"/static/63b0b6ccf3642f9d50371ef98544a0af/5a190/gatsby-source-plugin-github.png 800w\", \"/static/63b0b6ccf3642f9d50371ef98544a0af/c1b63/gatsby-source-plugin-github.png 1200w\", \"/static/63b0b6ccf3642f9d50371ef98544a0af/d93d9/gatsby-source-plugin-github.png 1243w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"hr\", null), mdx(\"h3\", {\n    \"id\": \"summary\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Summary\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#summary\",\n    \"aria-label\": \"summary permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"We've written a Gatsby plugin that:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"can be configured with an entry in your \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gatsby-config.js\"), \" file\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"requests data from an API\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"pulls the API data into Gatsby's node system\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"allows the data to be queried with GraphQL\")), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/24ca08c48a5dc9366e7d3c4134d9a8b3/congrats.gif\",\n    \"alt\": \"congrats\"\n  })), mdx(\"p\", null, \"You did it!! \\uD83D\\uDE80 You now know how to create a source plugin for Gatsby.\"), mdx(\"p\", null, \"You're welcome to check out the complete source code for \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/Ashu96/gatsby-github-plugin-example-site\"\n  }, \"example-site\"), \" and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/Ashu96/gatsby-plugin-github-contributors\"\n  }, \"source plugin\"), \".\"), mdx(\"p\", null, \"If you like the post please share it on Twitter.\\nHoola AI has a very welcoming Community! If you have any questions, please join us on \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.hoola.ai/slack/\"\n  }, \"slack\"), \".\\nYou can also follow us on Twitter \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://twitter.com/WebinyCMS\"\n  }, \"@WebinyCMS\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"author":"ashu","slug":"blog/create-github-contributors-plugin-for-gatsby","title":"How to Create Github Contributors Plugin for Gatsby","description":"Learn how to create a Gatsby source plugin that will display a list of contributors to a Github repository.","tags":["Web development","Gatsby","Github","React","Open source"],"date":"September 28, 2020","featureImage":{"publicURL":"/static/63b0b6ccf3642f9d50371ef98544a0af/gatsby-source-plugin-github.png","childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACt0lEQVQoz0WS3W8MURiH/RP+AnHXCy4kLrghriQS4sqFukCiDfVRIkLiBhdoGiIIRZA0oSq0kVV0RbTaVW2222V1u1+d3Z3Z2fncmTln5syZ82O6K5Jz8ebN++Q878e60BPMFZ7BXY27OidW5Jm81Yxj3448gxOTOzonZkTMqJ0nZvxCT6xrw1YjVCuBVmWmHNpqqFV9aZlKy7SwRGoFX8pTqxFaClPKRClTR+NWI+zAoSdEAEQQPjgRUQAAjAhH44HJQdfyVAhfQMRlEY3LOjAnaDXtQuYntYjwoUrK9/GEXqmCI6OEI/P18ZwdeDA1YyqVmP+epC2fe4hh5nJwzH36eLe3W5NqiJCdTw0c2jv99g2A4Xxw4OSV4yOzDkOllOs7s/1E/66mqgkK5kYdePLN22s9R4u5AoC5xNjg2Z6JxBdEyFTI9VuvkrM5ziBXq0OPz9+4fVpXrQ7c1jYatlSqEyuIKIgVaHXTb4WcwG9FisJaOuOeCImwDdcyXOHHZKwdUbgmS757/ePZVa9WEQxNWZtITJiahRC539LNO8OD954EDmuZfuZXOfF5Tm84az+vDUz4OHOqf9vG9amXDwAoNWXo0cNMOgNgciLZvXNr78H9vicck079yA4MjVZXdQSdnqOI4tvU/KOHzys/8+DQZONr8ls+u4IQRkVJjY0vvp8MHC4CLCyWMtnSf+12zzPTC0+fjWTSywgRuKHaajLKuRdvm9LIpwIB6mV5fPT9xw9LrhFwgv9HcuTYyQ1dmy9fvgqg3qy/WBkuNUugcCx3KbtYKhYBLMzMHd63Z/eOveXlKti/aQuKc+cudm3acuf2fQArjUJKms2reVB4Nk2n0+ViGQx6Tb10ou9CT68p623zjrbddKWiTKxgbT2hpljEZnHscFN1bM1rC8qrmi4b7dv8q/0HH9jfRTv/5tcAAAAASUVORK5CYII=","aspectRatio":1.4285714285714286,"src":"/static/63b0b6ccf3642f9d50371ef98544a0af/ee604/gatsby-source-plugin-github.png","srcSet":"/static/63b0b6ccf3642f9d50371ef98544a0af/69585/gatsby-source-plugin-github.png 200w,\n/static/63b0b6ccf3642f9d50371ef98544a0af/497c6/gatsby-source-plugin-github.png 400w,\n/static/63b0b6ccf3642f9d50371ef98544a0af/ee604/gatsby-source-plugin-github.png 800w,\n/static/63b0b6ccf3642f9d50371ef98544a0af/f3583/gatsby-source-plugin-github.png 1200w,\n/static/63b0b6ccf3642f9d50371ef98544a0af/4aead/gatsby-source-plugin-github.png 1243w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},"pageContext":{"slug":"blog/create-github-contributors-plugin-for-gatsby"}},"staticQueryHashes":["144257237"]}