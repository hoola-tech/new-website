{"componentChunkName":"component---src-components-blog-blog-template-js","path":"/blog/testing-protected-app-sections-the-right-way-with-cypress-custom-commands-c6bac254d861","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"slug\": \"blog/testing-protected-app-sections-the-right-way-with-cypress-custom-commands-c6bac254d861\",\n  \"title\": \"Testing protected app sections the right way with Cypress custom commands!\",\n  \"description\": \"With Cypress, testing web apps has finally become super easy! It is precisely what I was looking and hoping for back in the day when I was\",\n  \"tags\": [\"Javascript\", \"Cypress\", \"Testing\", \"E2E testing\", \"Frontend development\"],\n  \"featureImage\": \"./assets/testing-protected-app-sections-the-right-way-with-cypress-custom-commands-c6bac254d861/max-1868-1r86P54goZarROMQLp_znSg.png\",\n  \"author\": \"adrian\",\n  \"date\": \"2018-12-19T00:00:00.000Z\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"With \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.cypress.io/\"\n  }, \"Cypress\"), \", testing web apps has finally become super easy! It is precisely what I was looking and hoping for back in the day when I was still using Selenium. It is a tool that doesn\\u2019t require multiple (often confusing) steps to setup and offers everything you\\u2019ll (ever) need to get the job done. There is really a LOT of goodies packed in it so, basically, if by any chance you haven\\u2019t tried it yet, do it now! \\uD83D\\uDE0A \\uD83D\\uDE80\"), mdx(\"h2\", {\n    \"id\": \"starting-out-with-cypress\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Starting Out With Cypress\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#starting-out-with-cypress\",\n    \"aria-label\": \"starting out with cypress permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"For my first experiment, I decided I would start with signup and login flows of my app. And, basically, after an hour or so of playing around, I already had the whole thing done. Now that was fast \\uD83D\\uDE2E! Sure, there were a few things to learn along the way but, overall, I\\u2019d say everything was pretty straight forward.\"), mdx(\"h2\", {\n    \"id\": \"next-steps\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Next Steps\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#next-steps\",\n    \"aria-label\": \"next steps permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"Satisfied with my progress, I decided to move onto the sections that are protected or, in other words, sections which cannot be accessed without an authenticated user. At that point, the question that immediately popped up in my head was:\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Is it possible to have an already logged-in user before a test is initiated? This is a \\u201Cmust\\u201D if I want to be able to open any protected part of the app.\")), mdx(\"p\", null, \"I had a few initial ideas; however, they weren\\u2019t good enough.\"), mdx(\"h4\", {\n    \"id\": \"1-ill-simply-continue-where-i-left-off-in-the-same-signup--login-flow-test\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"1. I\\u2019ll Simply Continue Where I Left Off in the Same Signup / Login Flow Test.\", mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#1-ill-simply-continue-where-i-left-off-in-the-same-signup--login-flow-test\",\n    \"aria-label\": \"1 ill simply continue where i left off in the same signup  login flow test permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"This is practically useless since as the test grows, it\\u2019ll get harder and harder to run and maintain it. Imagine yourself testing something and each time you update the test, you have to wait for the signup, login, and additional steps in-between to be executed. Not very nice, right? And you cannot really execute a specific test, it\\u2019s all or nothing. I discarded this one very quickly.\"), mdx(\"h4\", {\n    \"id\": \"2-ill-create-new-tests-and-rely-on-the-user-created-in-the-initial-signup-flow-test\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"2. I\\u2019ll Create New Tests and Rely on the User Created in the Initial Signup Flow Test.\", mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#2-ill-create-new-tests-and-rely-on-the-user-created-in-the-initial-signup-flow-test\",\n    \"aria-label\": \"2 ill create new tests and rely on the user created in the initial signup flow test permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"Based on my previous testing experience, I knew this was considered bad practice. Ideally, tests should not be linked together; they should be written and executable independently, because that way it\\u2019s easier to run and maintain them. If I want to run a single test, I should always be able to do that. And, as I make changes to the initial signup flow test, I should not have to worry about the fact that I might break the other ones. So, this one was a \\u201Cpass,\\u201D too.\"), mdx(\"h4\", {\n    \"id\": \"3-ill-just-sign-up-and-log-in-users-at-the-beginning-of-each-test\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"3. I\\u2019ll Just Sign Up and Log in Users at the Beginning of Each Test.\", mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#3-ill-just-sign-up-and-log-in-users-at-the-beginning-of-each-test\",\n    \"aria-label\": \"3 ill just sign up and log in users at the beginning of each test permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"The idea here was to simply repeat the signup flow steps (UI interaction) in each test, after which I would get a fresh user and then be able to move and test different parts of the protected area. Although this would theoretically be the most correct approach, still, in each test I would have to wait for the signup flow to be completed. And, if I had 20+ similar tests, that would seriously impact the overall execution time.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"500px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/2ebbd0fd0c96d9e34b5402843ff376c9/41099/max-1000-02oqE2rbug25BDa7P.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"55.99999999999999%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHLsNCkExn/xAAbEAABBAMAAAAAAAAAAAAAAAACABEiMRIhMv/aAAgBAQABBQLGNDpFy8Tv/8QAFREBAQAAAAAAAAAAAAAAAAAAERD/2gAIAQMBAT8BSf/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AVf/xAAbEAACAgMBAAAAAAAAAAAAAAAAATGRAhFBUf/aAAgBAQAGPwLZi/ThCoUUQqP/xAAcEAACAwEAAwAAAAAAAAAAAAABIQARMUFRgaH/2gAIAQEAAT8hV/chNsLGKjYPYws/BDxIEkKlAvCf/9oADAMBAAIAAwAAABA8H//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8QRwWX/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/EAdn/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFBUWFx/9oACAEBAAE/EBMs6BTd8xlO2B5U3EoqBhMh5uEVUiBxa8j9+o1PmIW0gtFmvk//2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"max 1000 02oqE2rbug25BDa7P\",\n    \"title\": \"max 1000 02oqE2rbug25BDa7P\",\n    \"src\": \"/static/2ebbd0fd0c96d9e34b5402843ff376c9/41099/max-1000-02oqE2rbug25BDa7P.jpg\",\n    \"srcSet\": [\"/static/2ebbd0fd0c96d9e34b5402843ff376c9/e07e9/max-1000-02oqE2rbug25BDa7P.jpg 200w\", \"/static/2ebbd0fd0c96d9e34b5402843ff376c9/066f9/max-1000-02oqE2rbug25BDa7P.jpg 400w\", \"/static/2ebbd0fd0c96d9e34b5402843ff376c9/41099/max-1000-02oqE2rbug25BDa7P.jpg 500w\"],\n    \"sizes\": \"(max-width: 500px) 100vw, 500px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"The last idea was definitely the best out of the three. But again, we can\\u2019t accept the seconds that would be added to the execution time in each test. So, how can we solve this problem?\"), mdx(\"h2\", {\n    \"id\": \"test-signup--login-flows-only-once\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Test Signup / Login Flows Only Once\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#test-signup--login-flows-only-once\",\n    \"aria-label\": \"test signup  login flows only once permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"The key thing to recognize here is that once we test the signup and login flows, we don\\u2019t want to repeat the same steps (UI interaction) in other tests, because it\\u2019s simply redundant.\"), mdx(\"p\", null, \"So, instead of going through the signup / login flows again and again, we could actually achieve the same thing MUCH faster by simply manually replicating background actions that would be triggered while the user is completing signup and login flows. Specifically in our case, we actually want to send a few API calls and save the received authentication token to the browser\\u2019s local storage. Once again, it\\u2019s okay to manually replicate these actions, because signup and login flows were tested in their own tests.\"), mdx(\"h2\", {\n    \"id\": \"cypress-commands-to-the-rescue\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Cypress Commands to the Rescue\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#cypress-commands-to-the-rescue\",\n    \"aria-label\": \"cypress commands to the rescue permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"Did I mention that Cypress offers everything you\\u2019ll need out of the box? Well, it certainly does! \\uD83C\\uDF81 \\uD83D\\uDE0A\"), mdx(\"p\", null, \"Cypress comes with a lot of built-in commands. E.g. to send a simple HTTP request to your backend API, you can utilize the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.cypress.io/api/commands/request.html#Syntax\"\n  }, \"cy.request\"), \" command like so:\"), mdx(\"deckgo-highlight-code\", {\n    \"highlight-lines\": \"undefined\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"cy.request({\\n    url: \\\"/api/users\\\",\\n    method: \\\"POST\\\",\\n    body: {something: \\\"xyz\\\"}\\n}).then(({ body }) => {\\n    // Do something.\\n});\"), \"\\n        \"), mdx(\"p\", null, \"But that\\u2019s not all! On top of built-in commands, Cypress also lets you define \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.cypress.io/api/cypress-api/custom-commands.html\"\n  }, \"custom ones\"), \", with which you can easily execute a frequently used series of commands. Exactly what we need!\"), mdx(\"p\", null, \"New custom commands can simply be registered via \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cypress/support/commands.js\"), \" file, like the following:\"), mdx(\"deckgo-highlight-code\", {\n    \"highlight-lines\": \"undefined\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"Cypress.Commands.add(\\\"doSomething\\\", () => {\\n    // Do something\\n});\"), \"\\n        \"), mdx(\"p\", null, \"Once you\\u2019ve done that, you\\u2019ll be able to call \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cy.doSomething()\"), \" anywhere in your tests. Cool, huh? \\uD83D\\uDE0E Just make sure to give descriptive names to your commands so that the code is more readable at later stages.\"), mdx(\"h2\", {\n    \"id\": \"registering-a-new-custom-command\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Registering a New Custom Command\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#registering-a-new-custom-command\",\n    \"aria-label\": \"registering a new custom command permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"So, in our case, we want to register the\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cy.signupUserAndLogin\"), \" custom command, which will do the following (steps may vary depending on how your app is structured):\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Create random data for our new user\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Send the signup API call\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Send the login API call\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Save the received authentication token to the browser\\u2019s local storage\")), mdx(\"p\", null, \"These steps are represented by the following code:\"), mdx(\"deckgo-highlight-code\", {\n    \"highlight-lines\": \"undefined\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"Cypress.Commands.add(\\\"signupUserAndLogin\\\", () => {\\n    // 1. Create a random data for our new user.\\n    const user = generateRandomNewUser();\\n\\n    // 2. Send sign up API call\\n    return cy\\n        .request({\\n            url: \\\"/api/users/signup\\\",\\n            method: \\\"POST\\\",\\n            body: user\\n        })\\n        .then(({ body }) => {\\n            // 3. Send log in API call\\n            cy.request({\\n                url: \\\"/api/users/login\\\",\\n                method: \\\"POST\\\",\\n                body: {\\n                    email: user.email,\\n                    password: user.password\\n                }\\n            }).then(({ body }) => {\\n                // Save received auth token to local storage\\n                window.localStorage.setItem(\\\"authToken\\\", body.authToken);\\n                return body.data;\\n            });\\n        });\\n});\"), \"\\n        \"), mdx(\"p\", null, \"Note that we\\u2019ve put both the signup and login functionality into one command. If necessary, you might want to create separate \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"logInUser\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"signUpUser\"), \" commands first in order to trigger only a specific action when needed.\"), mdx(\"p\", null, \"With the custom command registered, you can now execute it in any test where an authenticated user is required. E.g., if we were to test the user profile form, we may end up with something like this:\"), mdx(\"deckgo-highlight-code\", {\n    \"highlight-lines\": \"undefined\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"describe(\\\"user profile\\\", () => {\\n    it(\\\"displays the user profile form\\\", () => {\\n        cy.signupUserAndLogin().then(user => {\\n            // We have user ready at this point.\\n            // Now redirect to desired URL, and make the necessary assertions.\\n\\n            cy.visit(\\\"/user-area/my-profile\\\")\\n                .get(\\\".someFormElement\\\")\\n                .should(\\\"exist\\\");\\n            // ...\\n        });\\n    });\\n});\"), \"\\n        \"), mdx(\"p\", null, \"As you can see, we called the custom command at the beginning of our test and, as soon as it was done, we redirected the browser to the user profile form page and made the necessary assertions. And, that\\u2019s it! You can also repeat the same steps in other tests where an authenticated user is required.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"500px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/6912f365d04a96ce8c4836a6e7316f25/41099/max-1000-0YRyZt7FtsktyVBp6.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"99.50000000000001%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDAf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGkZmjpIyFgWf/EABsQAAEEAwAAAAAAAAAAAAAAAAABEBESAgMh/9oACAEBAAEFApJfGWtxdhdT/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGhAAAgIDAAAAAAAAAAAAAAAAATEAEBEgQf/aAAgBAQAGPwLTBXKQiFf/xAAdEAACAgEFAAAAAAAAAAAAAAAAAREhYRAxkbHx/9oACAEBAAE/IZ44HLwelL2AkpLuGBiR/9oADAMBAAIAAwAAABAzMAH/xAAVEQEBAAAAAAAAAAAAAAAAAAAgQf/aAAgBAwEBPxCD/8QAFREBAQAAAAAAAAAAAAAAAAAAIEH/2gAIAQIBAT8Qo//EAB4QAQEAAgICAwAAAAAAAAAAAAERACExQWHRkfDx/9oACAEBAAE/EBAUt8cIicdOlyh0Pzm10yZKZSq7lmATnN0UC/Vzghk6H3n5b7z/2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"max 1000 0YRyZt7FtsktyVBp6\",\n    \"title\": \"max 1000 0YRyZt7FtsktyVBp6\",\n    \"src\": \"/static/6912f365d04a96ce8c4836a6e7316f25/41099/max-1000-0YRyZt7FtsktyVBp6.jpg\",\n    \"srcSet\": [\"/static/6912f365d04a96ce8c4836a6e7316f25/e07e9/max-1000-0YRyZt7FtsktyVBp6.jpg 200w\", \"/static/6912f365d04a96ce8c4836a6e7316f25/066f9/max-1000-0YRyZt7FtsktyVBp6.jpg 400w\", \"/static/6912f365d04a96ce8c4836a6e7316f25/41099/max-1000-0YRyZt7FtsktyVBp6.jpg 500w\"],\n    \"sizes\": \"(max-width: 500px) 100vw, 500px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h2\", {\n    \"id\": \"conclusion\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Conclusion\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#conclusion\",\n    \"aria-label\": \"conclusion permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"With custom commands, testing protected app sections has certainly become a lot easier! We\\u2019ve eliminated the need to repeat the same signup / login steps and, with that, our tests have not only become easier to read (because of fewer lines of code) but also take less time to execute.\"), mdx(\"hr\", null), mdx(\"p\", null, \"Thanks for reading! My name is Adrian and I work as a full stack developer at \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.hoola.ai\"\n  }, \"Hoola AI\"), \". If you have any questions or comments, feel free to reach out to me via \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.twitter.com/doitadrian\"\n  }, \"Twitter\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"author":"adrian","slug":"blog/testing-protected-app-sections-the-right-way-with-cypress-custom-commands-c6bac254d861","title":"Testing protected app sections the right way with Cypress custom commands!","description":"With Cypress, testing web apps has finally become super easy! It is precisely what I was looking and hoping for back in the day when I was","tags":["Javascript","Cypress","Testing","E2E testing","Frontend development"],"date":"December 19, 2018","featureImage":{"publicURL":"/static/03b883dc39f5e3f638d48fb68d1a0bea/max-1868-1r86P54goZarROMQLp_znSg.png","childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABX0lEQVQoz52RbUvCYBiF/ZNFSD8iSvoDRVCIzrTUlYrmS4TlWxP6ND8EYWoE2VKzItOJuZjrcdvzsu2JEookgjqfz8U5575t9EOWZdG/y/YJ93o9RVF+sZqmiTH5AQ6Fw3b7/MzsXKVSwxipqqppOgBA16GqjjVNQwjJstxqtQAAhJAv+Lbd3vT6XG5mNxRiGE80GlvfcAZZ1ul0+bxbLLsTjyeSqX1JkgJBdtvvL5fPJ0Xe4cdOx814HI7lbDa/sroWCAQSe7FarZbL5Xm+lMnmOK6YPjzi+VKhkE8kU4IgTJbaJqfiuOLC4lIkFmneNerCTUvUoEFNg0AEEUKEEIyxYRAJGBgja2ozpVRT9VF3TCUqSuZJHRyU5eSZnL0A6crr8SVIV5VMVYmcyr3ByEDoG2xaFjWp9mC8XkPlhXRH5P4ZNfuwIcJGH9a7enuArp50QUTDwdBAcDr5H39+Az1x4RPNu/dBAAAAAElFTkSuQmCC","aspectRatio":2.197802197802198,"src":"/static/03b883dc39f5e3f638d48fb68d1a0bea/ee604/max-1868-1r86P54goZarROMQLp_znSg.png","srcSet":"/static/03b883dc39f5e3f638d48fb68d1a0bea/69585/max-1868-1r86P54goZarROMQLp_znSg.png 200w,\n/static/03b883dc39f5e3f638d48fb68d1a0bea/497c6/max-1868-1r86P54goZarROMQLp_znSg.png 400w,\n/static/03b883dc39f5e3f638d48fb68d1a0bea/ee604/max-1868-1r86P54goZarROMQLp_znSg.png 800w,\n/static/03b883dc39f5e3f638d48fb68d1a0bea/4628b/max-1868-1r86P54goZarROMQLp_znSg.png 934w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},"pageContext":{"slug":"blog/testing-protected-app-sections-the-right-way-with-cypress-custom-commands-c6bac254d861"}},"staticQueryHashes":["144257237"]}