{"componentChunkName":"component---src-components-blog-blog-template-js","path":"/blog/tutorial-e-commerce-nextjs-stripe","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"slug\": \"blog/tutorial-e-commerce-nextjs-stripe\",\n  \"title\": \"Build an E-commerce Website with Hoola AI Serverless Headless CMS, Next.js, and Stripe\",\n  \"description\": \"You'll learn how to create an e-commerce website using Hoola AI Serverless Headless CMS, Next.js, and Stripe.\",\n  \"tags\": [\"Serverless\", \"Web development\", \"Javascript\", \"Software Development\", \"GraphQL\"],\n  \"featureImage\": \"./assets/e-commerce-tutorial-nextjs-stripe/e-commerce-tutorial-nextjs-stripe.png\",\n  \"author\": \"albiona\",\n  \"date\": \"2020-11-16T00:00:00.000Z\"\n};\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\nvar ExternalLink = makeShortcode(\"ExternalLink\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In this tutorial, we will create a simple e-commerce website, where you can buy Swag from the best Open Source projects such as Hoola AI, Next.js, React, etc.\"), mdx(\"p\", null, \"Before we continue, let's go through what you'll learn about building this website.\"), mdx(\"p\", null, \"You will learn how to create the back-end using Hoola AI Headless\\nCMS and set up two content models, the products, and the categories.\\nAfterward, we'll fetch the data from the Headless CMS to the\\nNext.js project using Apollo GraphQL. Last but not least, we'll integrate Stripe to implement a checkout experience.\"), mdx(\"p\", null, \"While working on this starter, I shared my progress on Twitter, and \", mdx(ExternalLink, {\n    href: \"https://twitter.com/joshuaackerman\",\n    mdxType: \"ExternalLink\"\n  }, \"Josh\"), \" from Stripe \", mdx(ExternalLink, {\n    href: \"https://twitter.com/joshuaackerman/status/1305857426059653122?s=20\",\n    mdxType: \"ExternalLink\"\n  }, \"reached out\"), \"\\nfor being available for any feedback regarding improvements, developer experience, and documentation. Thank you, Josh!\"), mdx(\"p\", null, \"Without further ado let's get started.\"), mdx(\"p\", null, \"First, let's take a look at the diagram of what we'll build \\u2B07\\uFE0F\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/a6cd7527c3ae7f8206347a985190e28a/bf433/diagram-e-comm.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"49.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfUlEQVQoz4WS3YoUMRCF5/l8H1/Bd/DaBxj3yithRcXLZQYGwRsZtR2ke3a6k6r8dupIpX/oXRAbinRVKl9OTrIjosjMIxGNxG5kwUg+zPlUZ8cjZ7/m2+Bntd1cgPMB2TukL++Qby18TCBrEWJApgD/tUMOCc45aH+MEaUU5JyRUgIz1/oENAMCIPLxreSXL6TcvRYnkP56lViSpIdO3PufEk9X4ezF9INYa+VyuUjTNPWfmYWIZAJaCz8WKT++YXzzCuX4CS4XmH5AHBPydwP/+TfShcDBwRqLEAKsnUZVq+pU5W72Ckwkxnn8aVv05OpxtUGjfezQ/Gpw7R/XhRq32w1t21bwU+CUiELMMICsWT1Rz0QE+pWxrDCd6/sexpgVVj2cb0oTWZqXycX80+mED/f3OJ/P8N5XRRoKWy7picIZIsvEdkf16HA4YL/f43g8VuAwDBVmZ1v+qVC9XOMZVJ+H5nbj7RbG87r/AhXQdV01X8ftKbab0gz9C+pF/FJuon+EAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"E commerce starter\",\n    \"title\": \"E commerce starter\",\n    \"src\": \"/static/a6cd7527c3ae7f8206347a985190e28a/5a190/diagram-e-comm.png\",\n    \"srcSet\": [\"/static/a6cd7527c3ae7f8206347a985190e28a/772e8/diagram-e-comm.png 200w\", \"/static/a6cd7527c3ae7f8206347a985190e28a/e17e5/diagram-e-comm.png 400w\", \"/static/a6cd7527c3ae7f8206347a985190e28a/5a190/diagram-e-comm.png 800w\", \"/static/a6cd7527c3ae7f8206347a985190e28a/bf433/diagram-e-comm.png 971w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h2\", {\n    \"id\": \"1-the-e-commerce-starter\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"1. the E-Commerce-Starter\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#1-the-e-commerce-starter\",\n    \"aria-label\": \"1 the e commerce starter permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"To get started, we'll clone the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e-commerce-starter\"), \" git repository.\"), mdx(\"p\", null, \"The starter will have a ready-made Next.js application, and the Ant Design UI Library.\\nWe already have some components and functionalities ready, such as the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Header\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Search\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Product List\"), \", the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Product\"), \" card, and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Cart\"), \" component.\\nCheck out the image below.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/940a295187a1820f9fed7e0f389433eb/9451d/e-commerce-starter.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"49%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABIUlEQVQoz41R7W6DMBDj/d9xf1toGSQhhCT34YmDstK10oJOFodxfL6Grl+ovgeJgogMUy6oLIZrLaVC8Xv0tVSPasSaO50qNAzANEJ9Dwl3sO/A/gYaW5Brwe5mHHX9Vkwn0Qaqdo01hKE1A7WAS4KPLdx0QZg7THOHMLdI6Q4ti/GMq7Lb3kw1uqmdRnoe6z9HdzFzqA+x8I3YXZArQWULIroF9+uAUjNEBCKMqoqQFqR5PmWnh8NdUJcZcegRpohSCkrJWFKBGwLCFKyXc0ZlRkwLxnFEjBHM/Neh7UMEpZL9WGs1JCbb/KO3Fq24i28XF+Mcgkd+qkewr6PYc3p/n98x8vPHV8KnJbzjnkZ+FzArIZLDTN4wkocof+Svgj/WQxQVn54CsQAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"E commerce starter\",\n    \"title\": \"E commerce starter\",\n    \"src\": \"/static/940a295187a1820f9fed7e0f389433eb/5a190/e-commerce-starter.png\",\n    \"srcSet\": [\"/static/940a295187a1820f9fed7e0f389433eb/772e8/e-commerce-starter.png 200w\", \"/static/940a295187a1820f9fed7e0f389433eb/e17e5/e-commerce-starter.png 400w\", \"/static/940a295187a1820f9fed7e0f389433eb/5a190/e-commerce-starter.png 800w\", \"/static/940a295187a1820f9fed7e0f389433eb/c1b63/e-commerce-starter.png 1200w\", \"/static/940a295187a1820f9fed7e0f389433eb/29007/e-commerce-starter.png 1600w\", \"/static/940a295187a1820f9fed7e0f389433eb/9451d/e-commerce-starter.png 2782w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Clone the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e-commerce-starter\"), \" project by running the following commands to have the project set up and running.\"), mdx(\"deckgo-highlight-code\", {\n    \"highlight-lines\": \"undefined\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"git clone https://github.com/webiny/e-commerce-starter\\n\\ncd e-commerce-starter\\n\\nyarn install\\n\\nyarn run dev\\n\\n// head over to localhost:3000\"), \"\\n        \"), mdx(\"div\", {\n    \"className\": \"admonition admonition-note alert alert--secondary\"\n  }, mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-heading\"\n  }, mdx(\"h5\", {\n    parentName: \"div\"\n  }, mdx(\"span\", {\n    parentName: \"h5\",\n    \"className\": \"admonition-icon\"\n  }, mdx(\"svg\", {\n    parentName: \"span\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"width\": \"14\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 14 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z\"\n  }))), \"Note\")), mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-content\"\n  }, mdx(\"p\", {\n    parentName: \"div\"\n  }, \"For the e-commerce starter project we use static data, throughout the tutorial we will update the project so the data is pulled from the Headless CMS via the GraphQL API.\"))), mdx(\"p\", null, \"Now that we have the starter project, we can focus on creating the back-end using Hoola AI Headless CMS.\"), mdx(\"h2\", {\n    \"id\": \"2-hoola-ai-headless-cms\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"2. Hoola AI Headless CMS\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#2-hoola-ai-headless-cms\",\n    \"aria-label\": \"2 hoola ai headless cms permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"h3\", {\n    \"id\": \"prerequisites\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Prerequisites\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#prerequisites\",\n    \"aria-label\": \"prerequisites permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"A Hoola AI Headless CMS Project\")), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"First of all, make sure you have a working \", mdx(ExternalLink, {\n    href: \"http://docs.hoola.ai/docs/get-started/quick-start?utm_source=Hoola AI-blog&utm_medium=webiny-h3-tutorial&utm_campaign=webiny-blog-e-commerce-next-oct-26&utm_content=webiny-quick-start-guide&utm_term=W00214\",\n    mdxType: \"ExternalLink\"\n  }, \"Hoola AI project\"), \" set up.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Content Delivery API URL\")), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The Headless CMS app exposes data via the Content Delivery API,\\nwhich is a simple GraphQL API that dynamically updates its schema\\non content model changes. Once you have deployed your API stack\\n(using the yarn webiny deploy api --env=local command), you should\\nbe able to find the Content Delivery API URL in the API Information\\nmenu item, in your admin app.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/673ead218cbcc9482e4d5ff484961fb3/d9ed5/admin-app.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"49.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABS0lEQVQoz5WRXU7CQBSFuyYfAF2CL6iNG/DNLYHYpO10hv4RdyWUxBQ6LbSSY87oNIiayMPJnd6fr/fMOM36Fe1bgbJYInu4hhhfwHOvMLu9xGw8+FNPN0OE7gjKHUK6I0R3A6jHezhFUWC9WmG1XCLPc8znc8RxbOI5UkpBihBOrTXeuxa6qpBlGaSUpoHnc5SmKaRScJqmQdu2qOsai8UCQRD0QDb9R1maIkkSs4yz2+3QdR201siSBL73DCmEsUDwt8GjbU7zPXCz2YDQSmu85BliESBR0twj9RuIZ973seUeSKuHwwHb7fbzMeIYyZeFU1kYB3k1jMd1AySI0KqqzEAURcaulX1Ba59AwsIw/NFrgATZDdno+37/MJ7nYTKZYDqd9jUOEiaEMEBGfrPOmlOWJfb7PRhp2f6djRZCMWfzVgRS3MyePwCh9mASMBqb+gAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Admin App\",\n    \"title\": \"Admin App\",\n    \"src\": \"/static/673ead218cbcc9482e4d5ff484961fb3/5a190/admin-app.png\",\n    \"srcSet\": [\"/static/673ead218cbcc9482e4d5ff484961fb3/772e8/admin-app.png 200w\", \"/static/673ead218cbcc9482e4d5ff484961fb3/e17e5/admin-app.png 400w\", \"/static/673ead218cbcc9482e4d5ff484961fb3/5a190/admin-app.png 800w\", \"/static/673ead218cbcc9482e4d5ff484961fb3/c1b63/admin-app.png 1200w\", \"/static/673ead218cbcc9482e4d5ff484961fb3/29007/admin-app.png 1600w\", \"/static/673ead218cbcc9482e4d5ff484961fb3/d9ed5/admin-app.png 2880w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Content Delivery API Access Token\")), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"In order to access the data via the Content Delivery API, we'll need a valid \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Access Token\"), \".\"), mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Follow the \", mdx(ExternalLink, {\n    href: \"https://docs.hoola.ai/docs/webiny-apps/headless-cms/features/access-tokens?utm_source=Hoola AI-blog&utm_medium=webiny-h3-tutorial&utm_campaign=webiny-blog-e-commerce-next-oct-26&utm_content=webiny-headless-cms-access-tokens&utm_term=W00187\",\n    mdxType: \"ExternalLink\"\n  }, \"link\"), \" here to create an access token\\nfor a specific environment.\")))), mdx(\"div\", {\n    \"className\": \"admonition admonition-warning alert alert--danger\"\n  }, mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-heading\"\n  }, mdx(\"h5\", {\n    parentName: \"div\"\n  }, mdx(\"span\", {\n    parentName: \"h5\",\n    \"className\": \"admonition-icon\"\n  }, mdx(\"svg\", {\n    parentName: \"span\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"width\": \"12\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 12 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z\"\n  }))), \"Warning\")), mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-content\"\n  }, mdx(\"p\", {\n    parentName: \"div\"\n  }, \"In the root of the e-commerce-starter app that you've set up,\\nyou will find the .env file, that's the place where you need to\\nsave the Content Delivery API, and the Content Delivery API\\nAccess Token | Make sure to set up your .env file before proceeding to the next steps.\"))), mdx(\"p\", null, \"Now that we have all of the prerequisites out of the way, it's time to create the \", mdx(ExternalLink, {\n    href: \"https://docs.hoola.ai/docs/webiny-apps/headless-cms/features/content-modeling/?utm_source=Hoola AI-blog&utm_medium=webiny-h3-tutorial&utm_campaign=webiny-blog-e-commerce-next-oct-26&utm_content=webiny-headless-cms-content-modeling&utm_term=W00182\",\n    mdxType: \"ExternalLink\"\n  }, \"content models\"), \" for the e-commerce website.\"), mdx(\"p\", null, \"We are going to create two content models, the products and category.\\nFirst, you have to run your Headless CMS backend project, then open the admin menu and head over to the Content Models as shown in the image below.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"384px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/6e027880b024ab802f6b9e5f4ae92a36/804b2/content-models.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"232.00000000000003%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAuCAYAAAAoaDnGAAAACXBIWXMAABYlAAAWJQFJUiTwAAAFCklEQVRIx61X2W4qRxDlSyPlX6J8QT4gD3mwHCWWdaXcWMEreHe8YLAxq1kMZhmYfQY80yc6PfTcGQy+N1FGKlU3032m6nRVdZERQiB+hIBQ2pxg3ZPak5j7vo8MB8PhEJVKBWEYyBfhzi8IfvgOongKYWgQlRuIVhmiW4vmC5CkpACn0yk6nQ5EGEaAv/2E4MfvIa6yEM0Swv1fIUpnEGd/Ivzj55RH7yxMmi8WLoeuhbBRisb8PaHFfLbWQs/zkAmCIAbkODmPrQgjOHoQCBGt4zgIEIahFIK6rhu53Gg0UKvVYgzXcWCZBhxqy4Jt29B1HbPZ7N0Bvb29ScAUh1tbW9jY2IgXtdttnJ+fo1gs4vLyEmdnZ9jd3ZW/I+Gu4p+upgD5dcqqkFgVMsvcpQ7lqxwugak1SsIElzGH9/f3uLu7izdOJhO8vr5K3e/3YyGnyy6TV2VE7PL29jY2NzdjwF6vh4ODA9zc3Eghj5TxePwOkFQRKBWHPKn5fC4XqRNb96gQWcWhjEMVFhTTNKXQNX6NwkXkhkL3uJ5rqNVYzUlRxjAMKKH5BGNMXlxc4PT0VGqGDzk+OjqCpmkSILmPwt/4LqNeqi/RUsYbueNhEYyFo9lsyjk30RoFlLRSWkiiC4WCDGQGKReMRiMMBgNo47HU49FInrpJABqg6zFYt9uVh8WxtJAgtICgCnAynWIw1tAbjtDqvqD7OkCn18dQm8B0PRi2A2NhFUsfLYs5NA0dtmXCsS1wzIVWvw27XoLTqsLtNqR2OnXY7RqsxiOs5hPM0SCy0jTkPspEGyNjuDNMbR9Ty4Pu+NCdGXTdgD4YwHjpQu/3oA+HMMYajNEIBscU0wb3Rnt8GN4cmukg4xWzeCtlIao5zB/3EDwdIHg6xFslJyWo5jF/OoT3sBfJ4z68h314pSz84l/wi1l4pV3MCp9hFrLIoLqHVrmAo51PmPaeUS/doPlwg06liJfaAyp3Fxi3a4BnAK6eFk9pE7CG8P/eQgatC4x1E8WHMlx/hpE2hTY1oNFt08ZEN2HabpQRHwhEKC3O0NX/8sh0UykoS9UM/v0OMqjloztjkaMqJxlCDAMV9MwgFczM/RRoElAsAJPJzg0EZS4TiMI85pw5rcrVWsCPLvGvXvbvXK4fw/dnsiDU63Wpy+WyzABeXo+Pj6hWqzKXmQ1JsJUWksNQCMwW5Yqu0V26pcqXKmUpV5fbl3Uuf7OrHwHGh7Ko1nSX9e/29lYWjuWy/00WJjeoG4ynS70SaD1g7l2grtgVv18lacD6aSqt+BiWg1bnBf3BCL3XIcIYdg2vceplkRGlzxDONBYWAWf8gtdmGd1KEd1qEcKepNcsacECYQ7gX/2+4LCeBxonkAdUi8ZoX3wRzuvH0buERHuPI6nswy8fRhd9f6TB8uaxC3MBOLMA7jyA9ybgzkPMQ7yrODJNF72jvOgDRID1Wg33hS+tSO+li9OTE+RzORznc9jf20Xr+TkCZNsswjjEphMNnhuVN99b9DbMAF6fyfBQHQXfJavL/9J9req6Puy+mPjJ7osdBO9m1kR2XapzXe7H13ZfuVwO+Xw+1cFeXV3JqkOd7LqWAVd2X+y8+JV13dcq7tZ2X/+GQ9XxK0kakfoXcH19LV1TD6sNCy1dZ++imvJVeU4Qepji8IQxl+CQDZIqXYeHh/Jw1nHIC0wdmgRMcvZRB7vsrpIkx+TwH1Jj0XCBSHR+AAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Content models admin menu\",\n    \"title\": \"Content models admin menu\",\n    \"src\": \"/static/6e027880b024ab802f6b9e5f4ae92a36/804b2/content-models.png\",\n    \"srcSet\": [\"/static/6e027880b024ab802f6b9e5f4ae92a36/772e8/content-models.png 200w\", \"/static/6e027880b024ab802f6b9e5f4ae92a36/804b2/content-models.png 384w\"],\n    \"sizes\": \"(max-width: 384px) 100vw, 384px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Click on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Models\"), \" menu item, and from there you'll create the content models by clicking on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"plus\"), \" button on the right corner on the bottom.\"), mdx(\"p\", null, \"The images below will guide you through the fields we'll use to create our content models.\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Category\"), \" content model.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/15a5d6a4f9c3fc0378e78f16b85afb11/8d9a9/category_content_model.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"49.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9UlEQVQoz6WR626EIBBGef+H6TP0PTT6x3irN2CwQ0W/ZqZ1d9N002bX5IQhDIdPMIEIzjns+46Uko4nx82oHMd17Ti+SBv2yODpDfH1BWYLHltK+PltHxEcCME7vJMHrwGRGeu6wnuPGCOYGcwRnui7ZhhpkIREhBCCcjYuy4J5nnWDSO7hrIVzFkQBpmkaZFmGuq7RdZ0iIpHKKIf9hbVWIe9h+r5Hnudo2xZSC7IoQqsnXzfc4+yRtGYYhktCqX8T/jelCqdpQlmWkF8/E0rDw8JxHFUoCUUqd/iUUCRFUahQ7vH2UR4SykQSVlV1eZhnEn4CE4z9ozfkSO0AAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Category content model\",\n    \"title\": \"Category content model\",\n    \"src\": \"/static/15a5d6a4f9c3fc0378e78f16b85afb11/5a190/category_content_model.png\",\n    \"srcSet\": [\"/static/15a5d6a4f9c3fc0378e78f16b85afb11/772e8/category_content_model.png 200w\", \"/static/15a5d6a4f9c3fc0378e78f16b85afb11/e17e5/category_content_model.png 400w\", \"/static/15a5d6a4f9c3fc0378e78f16b85afb11/5a190/category_content_model.png 800w\", \"/static/15a5d6a4f9c3fc0378e78f16b85afb11/c1b63/category_content_model.png 1200w\", \"/static/15a5d6a4f9c3fc0378e78f16b85afb11/29007/category_content_model.png 1600w\", \"/static/15a5d6a4f9c3fc0378e78f16b85afb11/8d9a9/category_content_model.png 2244w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\nComment: Provide a screenshot of the menu of content models.\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Category\"), \" content model will contain the fields such as:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Title - \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Text(entry title)\"))), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Products\"), \" content model.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/65078eb1001d86204ee7fdb9ec0b6a18/7e23a/products_content_model.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"53%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABcUlEQVQoz32S6W6DMBCEef9/fY0+UBTlIEGQcPgCrzlTmGpNyFVUpJF3zfBp7CUwxuB2u2EcxzdN04SRNU6YJvje7728933X4GcYUCchuu8vBF3X4fOZphFDU2NoHFqyGGqHvm0w8Id1jaaZ66Hv0fc9XF37vmtbBESEtm0fYgOvlTHQUkAJAapKkK1giUB3WWu9uC7L0tfOOQS73Q5xHCNNUxRFASnlbCZCVVXezEZivQAX8Tv2LXWw3W6RJAmUUhBC+JXuMK31E7gCW8SeB3C/3+N8PiPPcy8GLsdhI4P/A/5JeDgcEEWRT/eakIGcUArxADr3oTVgGIY4nU7+Dq/X6xvQmNL3PEVa7vFDT+BcB8fj0YOyLPND4VQeyAPRCkYrOLJ+ymtyPP3SzLUjBJvNBnxsHgyn5GNbNhUX6CyGvEQgmcGpfF06h0pjUJGgNhIBp1rSsXgQ/POSFihlAZEmMCIHGQm7It5nn1UFXGXwC+tvR6cJ7VlxAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Products content model\",\n    \"title\": \"Products content model\",\n    \"src\": \"/static/65078eb1001d86204ee7fdb9ec0b6a18/5a190/products_content_model.png\",\n    \"srcSet\": [\"/static/65078eb1001d86204ee7fdb9ec0b6a18/772e8/products_content_model.png 200w\", \"/static/65078eb1001d86204ee7fdb9ec0b6a18/e17e5/products_content_model.png 400w\", \"/static/65078eb1001d86204ee7fdb9ec0b6a18/5a190/products_content_model.png 800w\", \"/static/65078eb1001d86204ee7fdb9ec0b6a18/c1b63/products_content_model.png 1200w\", \"/static/65078eb1001d86204ee7fdb9ec0b6a18/29007/products_content_model.png 1600w\", \"/static/65078eb1001d86204ee7fdb9ec0b6a18/7e23a/products_content_model.png 2850w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Products\"), \" content model, will contain the fields as shown in the image:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Title - \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Text\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Image - \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Files\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Price - \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Number\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Description - \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Long text\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Permalink - \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Text\"), \", and\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Category - \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Reference(multiple values)\"), \".\")), mdx(\"p\", null, \"When adding a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Reference field\"), \", you can toggle the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Use as a list of references\"), \" switch in field settings, to do a multi-select. In this case, a product can have multiple categories.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/df39ccd64d277d9183e44d9f4a7c96a2/7e23a/products_ref_field.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"53%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB5UlEQVQoz4WRzWoTURiGB1xJXbuR6sqVZOUN5GfmzG+C95BsmskN6E6LLS6tBLwAwUuwaOPGlVLFlJkMSQjJwiKBJDOTtDOTzM8r3xEDbVL84OGbH87zveccQVEU6LoOwzBQYTIqooSKyDhPpP/AFBi6BkPXoYkl6I8fQdB1DeVymUtzh8+Qe/sKueYBcs1DPDjax73Xz7F79AL3iTf72KV3ovkSDw+eQtM0Dq3XNQ2Cqqr8QWYy7n5+jzujL9hxPmGn28It5+O6C/bxXzrHEKwPEPonuH3yDjJjUBUFiqqCXEKhUIAoiiiVSmidfoM1GeP7+HzNj9+/cDYdw/Im6MxnsP0pLHeCXrhAy25DlmUuUq8LFYnh61kb88UCoethubhAFkaIgwCIE6RhhDQIgSQB0gxU56MRGGOge1gLi8UiTyeJIk7bPzH1PcxcF67vw5/POZ7v82/T2Qwzz+NcXF7Csm0u2yqklE6ng+VyiSAIEIbhBlEU8U7/0zRFr9fjW74iJNk/HMdBkiR84Wq1uhEaSjUYDDaFlFCSJC6kiVRxHPOeZdlWKB3VcDjcPMN8Pg+S0uV0u921kJJuJU0RRyGNw6DfB7uekCYQlLJaraLRaMA0TdTr9ZvZ24Np1lGr1a7ISPgHYOBbZVL6X+QAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Products Ref Field\",\n    \"title\": \"Products Ref Field\",\n    \"src\": \"/static/df39ccd64d277d9183e44d9f4a7c96a2/5a190/products_ref_field.png\",\n    \"srcSet\": [\"/static/df39ccd64d277d9183e44d9f4a7c96a2/772e8/products_ref_field.png 200w\", \"/static/df39ccd64d277d9183e44d9f4a7c96a2/e17e5/products_ref_field.png 400w\", \"/static/df39ccd64d277d9183e44d9f4a7c96a2/5a190/products_ref_field.png 800w\", \"/static/df39ccd64d277d9183e44d9f4a7c96a2/c1b63/products_ref_field.png 1200w\", \"/static/df39ccd64d277d9183e44d9f4a7c96a2/29007/products_ref_field.png 1600w\", \"/static/df39ccd64d277d9183e44d9f4a7c96a2/7e23a/products_ref_field.png 2850w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Once the content models are created, add a few record entries to each \\uD83C\\uDF89\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"534px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/793ce41a5c526f8106f4c155c31b7dc7/a07a7/content-models-menu.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"242%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAwCAYAAAARtFotAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEqklEQVRIx61X207jRhj22/QZ+iJ9jD5Cq+0FN63U3vZm96JSq16suKDbEnbVsoCI1CAiQhZygECOkOA48SEHYo+/6htnzOA4Btpa+pnJzPib7z/6xwjDEPf395jNZlgsFgBChHh49Hm8FobxqObqMQh2c3ODRqOBoWki4L5jIXjzCiL/e/SiEAhnE4SL+SOwtMeYz+c4Pz/Hzs4ObrodSI4f38L/6gsEP3yJsF2HyP0E8e41ROEDxO5biMJ7yVxetGSpxPB9H+PxGJZlwbHtSMWxCfHr9wiP/4qudUeAPQT8BdCsIGycKt1XGQZBIG04nU6lDQPfhw/EsvB9LEQIPwT8QMi1gOL74Lu6kJxh2zYojuMgnts2ZtNJJLMZZrMpPNeVl048D/Z4FJ/VhZoaOhDF8zwMBgPs7u5ib28PuVwOh4eHKJfL0s75fB6TySQmoQvXJEPXdSWQOkR7VqtV1Go1XFxcSGEkXF1dodlsyvNJdjEgJ/1+H71eL75pNBqh026jf3uLXreLW469nhx1NqkMyebs7AwHBwfodDox04E5xMAaoXPbR7fbk4AUGQ2amRi/+ppUmUCVSgWmacJ1PTiWCe/iE7xmHZNmDZ5jw5tM5GU6O47D4XBVZR6koeUi6Y9HcLpNOO0rOI0KbGsYeXY8hm1TvQe70Z6PVE6Gi8MDlgm3XoZ7VYV7XY/mtRLcXivad1btFwMydnShQ+TcGkYy5GhhPLKQPJsmMpeZKYxymSlBILPDVyPXfT+qSPM55hnCwDeYfwyHra0tSZmFgvHGOOQ6Y5G/aeenHiFEBEiH0P28gSoTWI1qToZxKVOjCJYi5B61M9bVNaQW1uVk7j5eTzIkqFjWNj5kw9is1+sy7a6vrzGbTqOX330DvPoM+PtnoPALkH+DsPpnBEiGaaWd1FkgWq2WBOx2u9Ic8kyrCOz/CDh9YGIB3hDhkvEKYFZpj/ZE+npS5TSGegZx5Jo8U/sI/PY10CkBvTLQLiI0G48Z6t8EPiyqDBcWjdPTU1kLmR3y7PvvgG8/R3iWAyofgE9/IGwXHwBf4uV1ZllRmROV5HrSq4LBlOKcjmHcxfbkXItDIZYqM70YGgxujswShg0LL0OHv5kt7XZ7aUvtA6+ZSjL8X1TWAZNOoZAFVWSxoIP4O+k4HXQFMLnBTDk5OUGpVEKxWJSqr+tlMgGTN6sPuFga/VmAWapkdVxJiatN2ku0HT1Or15eXsqweSotUxnqN93d3UnbMVwYk1nsdGcaRKUoWylJMk82RvpZHcNYF1MvjcW4neMf2mtzczNeVE0oOwVVZJk5HHlWt+lKw8kN2uro6CgGpFPYHDGPOVJoU4LyEvXBSmNppNnrP6vMekeV1c00Lj1L1VWV4agqUPTfwhqG/LO9vY2NjQ3Z+PAhAAsriyxtSWEzdXx8LIsum6pMQAKwJWMZe/73JUNlqphl6CRQVppKQFYW9tIqHFiyVCvMsGG2UGV6O5nXqYAsU2zGVbtBxmw/lNAclOfk9Iu+y8/Zl4D05v7+flwEGBZkRLuSVTJMMhlykyFSKBRk66FsyPBg6aIN9Wrz1GMoRkyzfxMmScB/AGU+e9NUVTHlAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Content models admin menu\",\n    \"title\": \"Content models admin menu\",\n    \"src\": \"/static/793ce41a5c526f8106f4c155c31b7dc7/a07a7/content-models-menu.png\",\n    \"srcSet\": [\"/static/793ce41a5c526f8106f4c155c31b7dc7/772e8/content-models-menu.png 200w\", \"/static/793ce41a5c526f8106f4c155c31b7dc7/e17e5/content-models-menu.png 400w\", \"/static/793ce41a5c526f8106f4c155c31b7dc7/a07a7/content-models-menu.png 534w\"],\n    \"sizes\": \"(max-width: 534px) 100vw, 534px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h2\", {\n    \"id\": \"3-nextjs--apollo-graphql-to-fetch-data-from-the-backend\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"3. Next.js + Apollo GraphQL to Fetch Data From the Backend\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#3-nextjs--apollo-graphql-to-fetch-data-from-the-backend\",\n    \"aria-label\": \"3 nextjs  apollo graphql to fetch data from the backend permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"Now, finally, we're going to start fetching the actual content from the Content Delivery API.\"), mdx(\"p\", null, \"Start off by installing a few NPM packages in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e-commerce-starter\"), \" project:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@apollo/client\"), \" - This single package contains virtually everything we need to set up Apollo Client. It includes the in-memory cache, local state management, error handling, and a React-based view layer.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"graphql\"), \" - This package provides logic for parsing GraphQL queries.\"))), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"bash\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"yarn i @apollo/client graphql --save\"), \"\\n        \"), mdx(\"p\", null, \"Now that you installed the necessary packages, let's check the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e-commerce-starter\"), \" website structure in the image below:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"492px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/d634a3dd969210a3b1ec5917fd894d72/5c6e9/e-commerce-starter-structure-2.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"164%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAABYlAAAWJQFJUiTwAAADk0lEQVRIx5VWWZPTZhDkPS8BwuJDtz7r/D5JtuVDtnxoISnYhSWhYLk2FVKhkspL+P9PnZqxDdhr2eZB9ckuud093TOjO5bbhx/PEKkKWf4UveEluoMLyPQRVPcxf+eFU7S0CG1D7r1aerw+I9zRrRS2yJGXF/DjKVxvBMcbwnS6MJwuLLcHzUy+/OgoIH0wnAyLy3ewvQFMpwf6k2Y75AebWrQFtg94G9BQsByFzzceivEUnWiBOD1nhg0C1SIG/RZ4F3QLcPNlP88h1BQimMCPSy4D1ZdOYk0nMT/OUI/55sdmgnteCT+awoumEP4YgZwjVEv+A2Lt+iN+9iBgmyS7Cu8+9iF7c7hewYCdcMLuk0lnzQ4eNj002sFe2VuAmiFx1pK4fJLg+krCDRaIkyWDBnLGkXG9ITtfJ3uHYYwHTYU8FXj5iwkRLhHEM5YYJRVLpvtQLfgzlWJX9g7DFeB02MH75zZMMUEQl/zDphai0QpYKt3XOX0L8H5DoZoI/PXKgGaPOOCdoIC1dtqws9pQ7wX8qalQDgU+XFnMME4rlkmmkFTXH68yeUoON4DzscAfv5kw3AlCNec6EiBHRy74pLCfEJsYZy2FvOvh2SMXVmeCUM4ZjKJDkk3u6X5tT99myDV08em1Ad0pODbEkOrIfX3AkKOSyRTKnwgKBqxjc9yUkcDNCwu2N+MabrqFHK5jVh/slkIx8PD6woEpCu7dTQ3tzoAd/i6G9xsSs4GJT690mKJEKFfu+ux0ydHRTHU6w7aZoShLFKMElhjBCydcQ3J3dfW+R7KE5XZRPnkDN5zz+FqFebRuuYgfPFTHbclmjLtnEtVAx+cPDejOhCUTKMkmU5rrBXUyQ81KkM9TJFkCW4yYHV/eCJbo107q2gGrOxLP//0ZajCDbmYMQtuO5h8B03n61jMUbEvhv8USeVrBi2nuLb90yLf1q4vOLckNTeHZrI+LqgcRztnlU8ZVbWweahnGgxC//xrzxDadbL0/VuxW59fr4IBt6RK6GeGHeylurjRUZQQ3OOcBQTORukVmjxGpJa8DyufBFcDjqy3RTXz8c63BD7oQwWqNkjG6na1eS+yMX010Oz1t2iwKgbeXBjSHGFXMjOu7Fe4TdwoDjgX+fGnC9koesJtgk0zK6aH3mz0TW6KX+ni6dGGJgrceLylaUE73YJfUbr3zqYu/r3VYnRlkWn1tuyOjaxfwfy9OvUX2e0UXAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"E commerce starter structure\",\n    \"title\": \"E commerce starter structure\",\n    \"src\": \"/static/d634a3dd969210a3b1ec5917fd894d72/5c6e9/e-commerce-starter-structure-2.png\",\n    \"srcSet\": [\"/static/d634a3dd969210a3b1ec5917fd894d72/772e8/e-commerce-starter-structure-2.png 200w\", \"/static/d634a3dd969210a3b1ec5917fd894d72/e17e5/e-commerce-starter-structure-2.png 400w\", \"/static/d634a3dd969210a3b1ec5917fd894d72/5c6e9/e-commerce-starter-structure-2.png 492w\"],\n    \"sizes\": \"(max-width: 492px) 100vw, 492px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/components\"), \" folder contains the react \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"antd\"), \" starter components, as seen in the image above.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/context/context.js\"), \" contains the React context that holds the state of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Cart\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Favorite\"), \" products, Shopping Cart, and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Total\"), \" price of the cart.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/pages/api/payment_intents.js\"), \" file provides a server side function for the Stripe integration.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/pages/_app.js\"), \" component file is provided by Next.js, and serves as a wrapper of every single Next.js page of your frontend.\\nThe \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pages/_app.js\"), \" file allows us to wrap the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Apollo Provider\"), \" around the function component so that we can have it available in every single page.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Now, you may ask What is Apollo Provider\\u2049\\uFE0F Good point \\u203C\\uFE0F We'll get back to this later when we set up the ApolloClient.\"))), mdx(\"hr\", null), mdx(\"p\", null, \"We've covered the packages used and the folder structure of our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e-commerce-starter\"), \" app, let's jump on the code.\"), mdx(\"p\", null, \"Open the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pages/_app.js\"), \" file and replace the existing code with the following snippet:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"import '../assets/antd-custom.less';\\n// Layout Component\\nimport LayoutComponent from '../components/Layout';\\n\\n// React Context\\nimport { CartProvider } from '../context/Context';\\n\\n// Apollo\\nimport { ApolloProvider } from '@apollo/client';\\nimport { useApollo } from '../lib/apolloClient';\\n\\nexport default function App({ Component, pageProps }) {\\n    const apolloClient = useApollo(pageProps.initialApolloState);\\n    // useApollo hook will initialize our apollo client\\n    return (\\n        <ApolloProvider client={apolloClient}>\\n            {/**\\n             *\\n             * ApolloProvider will privde the apolloClient\\n             * to every single page of our application.\\n             *\\n             */}\\n            <CartProvider>\\n                <LayoutComponent>\\n                    <Component {...pageProps} />\\n                </LayoutComponent>\\n            </CartProvider>\\n        </ApolloProvider>\\n    );\\n}\"), \"\\n        \"), mdx(\"p\", null, \"As you can see, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pages/_app.js\"), \" has different external components that act as wrappers to our Next.js app.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"LayoutComponent\"), \" - Holds the base layout for our app.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"CartProvider\"), \" - Is the React context for state management, in this case for the products cart data.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ApolloProvider\"), \" - We'll explain the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ApolloProvider\"), \" below.\")), mdx(\"p\", null, \"Let's go into the actual GraphQL client file.\"), mdx(\"p\", null, \"Go ahead in the root of the project, and create the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"lib/apolloClient.js\"), \" file, and paste the following snippet:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"import { useMemo } from 'react'\\nimport { ApolloClient, HttpLink, InMemoryCache } from '@apollo/client'\\n\\nlet apolloClient\\n\\nfunction createApolloClient() {\\n    return new ApolloClient({\\n        ssrMode: typeof window === 'undefined',\\n        link: new HttpLink({\\n            uri: process.env.CONTENT_DELIVERY_API_URL,\\n\\t\\t// The CONTENT_DELIVERY_API_URL is comming from the `.env` file that you created on step 2 of the Prerequisites - Content Delivery API URL\\n\\t\\t// Server URL (must be absolute)\\n\\t\\t// credentials: 'same-origin', \\n\\t\\t// Additional fetch() options like `credentials` or `headers`\\n            headers: {\\n                authorization: process.env.CONTENT_DELIVERY_API_ACCESS_TOKEN,\\n\\t\\t// The CONTENT_DELIVERY_API_ACCESS_TOKEN is comming from the `.env` file that you created on step 3 of the Prerequisites - Content Delivery API Access Token\\n            },\\n        }),\\n        cache: new InMemoryCache(),\\n    })\\n}\\n\\nexport function initializeApollo(initialState = null) {\\n    const _apolloClient = apolloClient ?? createApolloClient()\\n\\n    // If your page has Next.js data fetching methods that use Apollo Client, the initial state\\n    // gets hydrated here\\n    if (initialState) {\\n        // Get existing cache, loaded during client side data fetching\\n        const existingCache = _apolloClient.extract()\\n        // Restore the cache using the data passed from getStaticProps/getServerSideProps\\n        // combined with the existing cached data\\n        _apolloClient.cache.restore({ ...existingCache, ...initialState })\\n    }\\n    // For SSG and SSR always create a new Apollo Client\\n    if (typeof window === 'undefined') return _apolloClient\\n    // Create the Apollo Client once in the client\\n    if (!apolloClient) apolloClient = _apolloClient\\n\\n    return _apolloClient\\n}\\n\\nexport function useApollo(initialState) {\\n    const store = useMemo(() => initializeApollo(initialState), [initialState])\\n    return store\\n}\"), \"\\n        \"), mdx(\"p\", null, \"The important bit of the above snippet is the new instance of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ApolloClient\"), \"\\nwhich has some options such as the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"link\"), \" \\u2192 this is the part where we\\ntell the Apollo how to go and fetch the data, and we do that by calling a new instance of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HttpLink\"), \",\\nand pass the options to this, which is the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"URI\"), \" \\u2192 That means: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Where on the internet does your GraphQL URL exist?\"), \" \\uD83D\\uDE80\\nThis is where the Hoola AI's \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Content Delivery API\"), \" URL comes into play.\"), mdx(\"p\", null, \"Now, finally, we are going to start fetching the actual content from our Headless CMS back-end project. \\uD83D\\uDE80\\uD83D\\uDE80\"), mdx(\"p\", null, \"With this set-up, now you have the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"apolloClient\"), \" that is passed to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ApolloProvider\"), \" in\\nthe \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pages/_app.js\"), \" file, for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ApolloProvider\"), \" wraps every single page within our application,\\nyou can actually go into a page, and import a hook called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useQuery\"), \" and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gql\"), \".\\nWith these two, you can perform queries against our GraphQL API. Let's do that!\"), mdx(\"p\", null, \"Navigate to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/ProductList.js\"), \" file, and replace the code with the below snippet:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"// Apollo\\nimport { useQuery, gql } from '@apollo/client';\\n\\n// Ant design\\nimport { Row, Col } from 'antd';\\n\\n// Components\\nimport ProductCard from './Product';\\n\\nexport const QUERY = gql`\\n    query listProducts {\\n        listProducts {\\n            data {\\n                id\\n                title\\n                description\\n                price\\n                image\\n                category {\\n                    title\\n                }\\n            }\\n        }\\n        listCategories {\\n            data {\\n                title\\n            }\\n        }\\n    }\\n`;\\n\\nexport default function ProductList(props) {\\n    const { loading, error, data } = useQuery(QUERY);\\n    // if products are returned from the GraphQL query, run the filter query\\n    // and set equal to variable searchQuery\\n    if (loading) return <h1>Fetching</h1>;\\n\\n    if (error) return 'Error loading products: ' + error.message;\\n\\n    let ProductData = data.listProducts.data;\\n\\n    // Remove the static data that came up with the e-commerce-starter code\\n    // let ProductData = [\\n    //     ...\\n    // ];\\n\\n    if (ProductData && ProductData.length) {\\n        const searchQuery = ProductData.filter((query) =>\\n            query.title.toLowerCase().includes(props.search),\\n        );\\n        if (searchQuery.length != 0) {\\n            return (\\n                <Row>\\n                    {searchQuery.map((res) => (\\n                        <Col\\n                            xs={24}\\n                            md={12}\\n                            lg={8}\\n                            key={('card: ', res.title)}\\n                            // flex={3}\\n                        >\\n                            <ProductCard {...res} />\\n                        </Col>\\n                    ))}\\n                </Row>\\n            );\\n        } else {\\n            return <h1>No Products Found</h1>;\\n        }\\n    }\\n    return <h5>Visit your Hoola AI Headless CMS to add your Products</h5>;\\n}\"), \"\\n        \"), mdx(\"p\", null, \"We've defined the QUERY, where we fetch the list of products, and it's fields. Besides the products, we also fetch the categories' content model.\"), mdx(\"div\", {\n    \"className\": \"admonition admonition-info alert alert--info\"\n  }, mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-heading\"\n  }, mdx(\"h5\", {\n    parentName: \"div\"\n  }, mdx(\"span\", {\n    parentName: \"h5\",\n    \"className\": \"admonition-icon\"\n  }, mdx(\"svg\", {\n    parentName: \"span\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"width\": \"14\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 14 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"\n  }))), \"Info\")), mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-content\"\n  }, mdx(\"p\", {\n    parentName: \"div\"\n  }, \"For now, we are still using static data in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/Categories.js\"), \" component, to use your actual data, you have to fetch the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"categories\"), \" data in\\nthe \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/Categories.js\"), \" file. Furthermore, you can freely open a PR to place this feature on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e-commerce-starter\"), \" project. Make it your first, or second PR @ \", mdx(ExternalLink, {\n    href: \"https://www.hoola.ai/?utm_source=Hoola AI-blog&utm_medium=webiny-website&utm_campaign=webiny-blog-e-commerce-next-oct-26&utm_content=webiny-website&utm_term=W00258\",\n    mdxType: \"ExternalLink\"\n  }, \"Hoola AI\"), \". \\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83D\\uDE80\\nHead over to our \", mdx(ExternalLink, {\n    href: \"https://github.com/webiny/e-commerce-starter?utm_source=Hoola AI-blog&utm_medium=webiny-github-community&utm_campaign=webiny-blog-e-commerce-next-oct-26&utm_content=webiny-github-community-repo&utm_term=W00259\",\n    mdxType: \"ExternalLink\"\n  }, \"project repository \"), \" to open the PR \\uD83D\\uDE80\"))), mdx(\"p\", null, \"Now, you will use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"QUERY\"), \" with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useQuery\"), \" hook, which will return the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"data\"), \", the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"error\"), \", and a boolean \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"loading\"), \",\\nfor whether it's still loading the data.\"), mdx(\"p\", null, \"When you get the data from the Headless CMS, in the starter project we implemented a simple \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"search\"), \" functionality for the products.\\nThe \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"search\"), \" input value is received through the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"props\"), \" of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/ProductList\"), \" component.\"), mdx(\"p\", null, \"Before jumping on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localhost:3000/\"), \" to see the actual data, you need to add one more detail!\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Next.js provides different methods for fetching data, one of them is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getStaticProps\"), \" - this method allows you to update \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"existing\"), \" pages by re-rendering them in the background as traffic comes in.\")), mdx(\"p\", null, \"Navigate to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pages/index.js\"), \" file, and replace its content with the following snippet:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"import { Col, Row } from 'antd';\\nimport React, { useState } from 'react';\\n\\n// Ant design\\nimport { Input } from 'antd';\\n// Products\\nimport ProductList from '../components/ProductList';\\nimport { QUERY } from '../components/ProductList';\\nimport { Typography } from 'antd';\\n// Apollo\\nimport { initializeApollo } from '../lib/apolloClient';\\n\\nconst { Title } = Typography;\\n\\nconst { Search } = Input;\\n\\nexport default function Home() {\\n    const [query, updateQuery] = useState('');\\n    return (\\n        <>\\n            <Row gutter={[16, 24]}>\\n                <Col\\n                    xs={{ span: 24, offset: 4 }}\\n                    lg={{ span: 24, offset: 2 }}\\n                    span={24}\\n                >\\n                    <Title level={2} style={{ color: '#fa5723' }}>\\n                        {' '}\\n                        E-commerce website build with Hoola AI Headless CMS,\\n                        Next.js, and Stripe\\n                    </Title>\\n                </Col>\\n            </Row>\\n            <Row>\\n                <Col\\n                    xs={{ span: 12, offset: 6 }}\\n                    lg={{ span: 24, offset: 8 }}\\n                    span={24}\\n                >\\n                    <Title level={4} type=\\\"success\\\">\\n                        {' '}\\n                        Buy Swag from the best Open Source Projects\\n                    </Title>\\n                </Col>\\n            </Row>\\n            <Row>\\n                <Col\\n                    xs={{ span: 12, offset: 6 }}\\n                    lg={{ span: 24, offset: 7 }}\\n                    span={24}\\n                >\\n                    <Search\\n                        placeholder=\\\"Search for products\\\"\\n                        onSearch={(value) => console.log(value)}\\n                        style={{\\n                            maxWidth: 500,\\n                        }}\\n                        onChange={(e) =>\\n                            updateQuery(e.target.value.toLocaleLowerCase())\\n                        }\\n                        value={query}\\n                    />\\n                </Col>\\n            </Row>\\n            <Row>\\n                <Col span={24}>\\n                    <ProductList search={query} />\\n                </Col>\\n            </Row>\\n        </>\\n    );\\n}\\n\\nexport async function getStaticProps() {\\n    const apolloClient = initializeApollo();\\n    await apolloClient.query({\\n        query: QUERY,\\n    });\\n    return {\\n        props: {\\n            initialApolloState: apolloClient.cache.extract(),\\n        },\\n    };\\n}\"), \"\\n        \"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getStaticProps\"), \" function gets called at build time on server-side.\\nIt won't be called on client-side, so you can even do direct database queries.\"), mdx(\"p\", null, \"Inside this function, you are querying the GraphQL API, and cashing the data in the background. Now, you can freely update your content on the Hoola AI Headless CMS \\uD83C\\uDF89\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/9ec153762e975dde74108c3518ddbb55/d3bd3/fetching-data.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"51.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGElEQVQoz42R63ICIQyF9/3fstofWl10YblDvg7spY5jWzNzJskhOUAyVO8o+kbKhVQWhJSIOeNCxMdIrkIFivygPvpaKaVQa2Xg0aIHP0N0iw8eggM3g7fgLPiWm4UPa1zLLjGICDu0QtQZuV8RdSKNn4TxSLgeuo+XD8J4oKoTcvtCbhdkPCEpItA1hhYgwrM1RqeJKd+Z64wpukOXidwH8FS/agxNrB1rH1HjiFKqe2MMMUT0XVNy6WhNJVbOxxHnbJ9bznkXW164JqE1a433HuccIYReYGaDtXblfBdpFzVuQ4zx4YWr8ralum5sy1/FIkvdNvuFkxdLeRO/Wf8yb5ms+N+G7ZuvUbDJYJNmTlOPG/dXzzdF1xNFOoNHcgAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Fetching products\",\n    \"title\": \"Fetching products\",\n    \"src\": \"/static/9ec153762e975dde74108c3518ddbb55/5a190/fetching-data.png\",\n    \"srcSet\": [\"/static/9ec153762e975dde74108c3518ddbb55/772e8/fetching-data.png 200w\", \"/static/9ec153762e975dde74108c3518ddbb55/e17e5/fetching-data.png 400w\", \"/static/9ec153762e975dde74108c3518ddbb55/5a190/fetching-data.png 800w\", \"/static/9ec153762e975dde74108c3518ddbb55/c1b63/fetching-data.png 1200w\", \"/static/9ec153762e975dde74108c3518ddbb55/29007/fetching-data.png 1600w\", \"/static/9ec153762e975dde74108c3518ddbb55/d3bd3/fetching-data.png 2822w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"As you can see, I already created some products on my Headless CMS back-end project!\"), mdx(\"p\", null, \"Now that we have the data, let's go and check the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/ProductCard\"), \" component that came\\nwith the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e-commerce-starter\"), \" pack \\uD83D\\uDE80 Navigate to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/Product.js\"), \" file,\\nthere you'll find the product cart functionalities such as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"addToCart\"), \",\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"removeFromCart\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"addToFavorites\"), \". One functionality is missing though,\\nand that is the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"goToProduct\"), \" that should open a modal, and show the product details\\u2049\\uFE0F\"), mdx(\"p\", null, \"You can freely open a PR for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"goToProduct\"), \" function and make it your first PR @ \", mdx(ExternalLink, {\n    href: \"https://www.hoola.ai/?utm_source=Hoola AI-blog&utm_medium=webiny-website&utm_campaign=webiny-blog-e-commerce-next-oct-26&utm_content=webiny-website&utm_term=W00258\",\n    mdxType: \"ExternalLink\"\n  }, \"Hoola AI\"), \". \\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83D\\uDE80\\nHead over to our \", mdx(ExternalLink, {\n    href: \"https://github.com/webiny/community?utm_source=Hoola AI-blog&utm_medium=webiny-github-community&utm_campaign=webiny-blog-e-commerce-next-oct-26&utm_content=webiny-github-community-repo&utm_term=W00259\",\n    mdxType: \"ExternalLink\"\n  }, \"Community repository \"), \" to open the PR \\uD83D\\uDE80\"), mdx(\"h2\", {\n    \"id\": \"4-nextjs--stripe-to-create-the-payment-intents\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"4. Next.js + Stripe to Create the Payment Intents\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#4-nextjs--stripe-to-create-the-payment-intents\",\n    \"aria-label\": \"4 nextjs  stripe to create the payment intents permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"In this section, you will use the Stripe Payment intents API with Next.js to integrate Stripe for our shopping cart, and\\nfollow best practices as set out by Stripe and the industry.\"), mdx(\"h3\", {\n    \"id\": \"prerequisites-1\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Prerequisites\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#prerequisites-1\",\n    \"aria-label\": \"prerequisites 1 permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"Before you continue, let's get ready for the section by following the two prerequisites below.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Create a \", mdx(ExternalLink, {\n    href: \"https://stripe.com/\",\n    mdxType: \"ExternalLink\"\n  }, \"Stripe account\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"You need the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Publishable\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Secret\"), \" Key from the \", mdx(ExternalLink, {\n    href: \"http://dashboard.stripe.com\",\n    mdxType: \"ExternalLink\"\n  }, \"dashboard.stripe.com\"))), mdx(\"hr\", null), mdx(\"p\", null, \"We already have pre-build components such as the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/CheckoutForm.js\"), \", and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/Layout.js\"), \" component in the\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e-commerce-starter\"), \" app, but these two are not complete! We'll work on them in this section.\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/CheckoutForm.js\"), \" component has the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"billingDetails\"), \" and an empty spot\\nfor the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CardElement\"), \" in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<CardElementContainer></CardElementContainer>\"), \" where you are going to add it, and it has a submit button and a\\nspot to display some errors. Let's take a look at the existing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/CheckoutForm.js\"), \" file below:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"// Ant design\\nimport { Button, Form } from 'antd';\\n// React context\\nimport { CartContext, TotalContext } from '../context/Context';\\nimport { Col, Row } from 'antd';\\nimport React, { useContext, useState } from 'react';\\n\\n// Components\\nimport { BillingDetailsFields } from './BillingDetailsField';\\n// styled components\\nimport styled from 'styled-components';\\n\\nconst iframeStyles = {\\n    base: {\\n        color: '#ff748c',\\n        fontSize: '16px',\\n        iconColor: '#ff748c',\\n        '::placeholder': {\\n            color: '#87bbfd',\\n        },\\n        border: '1px solid gray',\\n    },\\n    invalid: {\\n        iconColor: '#ff748c',\\n        color: '#ff748c',\\n    },\\n    complete: {\\n        iconColor: '#ff748c',\\n    },\\n};\\n\\nconst cardElementOpts = {\\n    iconStyle: 'solid',\\n    style: iframeStyles,\\n    hidePostalCode: true,\\n};\\n\\nconst CardElementContainer = styled.div`\\n    height: 40px;\\n    display: flex;\\n    align-items: center;\\n    & .StripeElement {\\n        width: 100%;\\n        padding: 15px;\\n    }\\n`;\\n\\nconst CheckoutForm = () => {\\n    const [form] = Form.useForm();\\n    const [cart, setCart] = useContext(CartContext);\\n    const [totalPrice, settotalPrice] = useContext(TotalContext);\\n    const [isProcessing, setProcessingTo] = useState(false);\\n\\n    const [checkoutError, setCheckoutError] = useState();\\n    const handleCardDetailsChange = (ev) => {\\n        ev.error ? setCheckoutError(ev.error.message) : setCheckoutError();\\n    };\\n\\n    const handleSubmit = async (e) => {\\n        // e.preventDefault();\\n\\n        const billingDetails = {\\n            name: e.name.value,\\n            email: e.email.value,\\n            address: {\\n                city: e.city.value,\\n                state: e.state.value,\\n                postal_code: e.zip.value,\\n            },\\n        };\\n    };\\n\\n    return (\\n        <>\\n            <Row>\\n                <Col\\n                    xs={{ span: 10, offset: 4 }}\\n                    lg={{ span: 10, offset: 6 }}\\n                    span={24}\\n                >\\n                    <Form\\n                        form={form}\\n                        name=\\\"checkout\\\"\\n                        onFinish={handleSubmit}\\n                        scrollToFirstError\\n                    >\\n                        <BillingDetailsFields />\\n                        <CardElementContainer></CardElementContainer>{' '}\\n                        {checkoutError && (\\n                            <span style={{ color: 'red' }}>\\n                                {checkoutError}\\n                            </span>\\n                        )}\\n                        <br />\\n                        <Form.Item>\\n                            <Button\\n                                type=\\\"primary\\\"\\n                                htmlType=\\\"submit\\\"\\n                                disabled={isProcessing}\\n                            >\\n                                {isProcessing\\n                                    ? 'Processing...'\\n                                    : `Pay ${totalPrice}`}\\n                            </Button>\\n                        </Form.Item>\\n                    </Form>\\n                </Col>\\n            </Row>\\n        </>\\n    );\\n};\\n\\nexport default CheckoutForm;\"), \"\\n        \"), mdx(\"p\", null, \"For the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/Layout.js\"), \" component, you can think of it as a wrapper component around\\nall of our pages on the site. In here you'll load the Stripe library later when we'll start coding.\"), mdx(\"p\", null, \"Have a look at the existing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/Layout.js\"), \" component below:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"import { Col, Row } from 'antd';\\nimport React, { useState } from 'react';\\n\\n// Header\\nimport HeaderComponent from './Header';\\n// Ant Design\\nimport { Layout } from 'antd';\\nimport { Typography } from 'antd';\\n\\nconst { Title } = Typography;\\n\\nconst { Content, Footer } = Layout;\\n\\nfunction LayoutComponent(props) {\\n    const title = 'Hoola AI';\\n    return (\\n        <div>\\n            <HeaderComponent title={title} />\\n            <Content className=\\\"site-layout\\\">\\n                <Layout\\n                    className=\\\"site-layout-background\\\"\\n                    style={{\\n                        padding: '24px 0',\\n                        margin: 100,\\n                        display: 'flex',\\n                        minHeight: '400px',\\n                        background: '#fff',\\n                    }}\\n                >\\n                    <Row gutter={[16, 24]}>\\n                        <Col\\n                            xs={{ span: 24, offset: 4 }}\\n                            lg={{ span: 24, offset: 2 }}\\n                            span={24}\\n                        >\\n                            <Title level={2} style={{ color: '#fa5723' }}>\\n                                {' '}\\n                                E-commerce website build with Hoola AI Headless\\n                                CMS, Next.js, and Stripe\\n                            </Title>\\n                        </Col>\\n                    </Row>\\n                    <Content\\n                        style={{\\n                            padding: '24px',\\n                        }}\\n                    >\\n                        {props.children}\\n                    </Content>\\n                </Layout>\\n                <Footer style={{ textAlign: 'center', background: '#fff' }}>\\n                    <a\\n                        href=\\\"http://hoola.ai/serverless-app/headless-cms?utm_source=Hoola AI-blog&utm_medium=webiny-website&utm_campaign=webiny-blog-e-commerce-oct-12&utm_content=webiny-blog-e-commerce-nextjs&utm_term=W00176\\\"\\n                        target=\\\"_blank\\\"\\n                        rel=\\\"noopener noreferrer\\\"\\n                    >\\n                        Hoola AI Serverless Headless CMS @ 2020\\n                    </a>\\n                </Footer>\\n            </Content>\\n        </div>\\n    );\\n}\\n\\nexport default LayoutComponent;\"), \"\\n        \"), mdx(\"p\", null, \"One last check regarding the Stripe integration before you can actually start coding, you need to save the two Stripe keys in a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sticky desktop note\"), \" or anywhere it's easier for you to grab the data later:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"ts\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"PUBLISHABLE_KEY = pk_test_1234;\\n\\nSECRET_KEY = sk_test_1234;\"), \"\\n        \"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"publishable\"), \" and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"secret\"), \" key can be found in the Stripe dashboard,\\nmake sure to sign up for a Stripe account if you didn't already,\\nand navigate to the \", mdx(ExternalLink, {\n    href: \"http://dashboard.stripe.com\",\n    mdxType: \"ExternalLink\"\n  }, \"dashboard.stripe.com\"), \" - make\\nsure that you are \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Viewing test data\"), \", if not, toggle it \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"on\"), \".\\nClick on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Developers\"), \" and on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"API keys\"), \" as shown in the image below.\"), mdx(\"p\", null, \"On the right, you will find the data for your publishable and secret keys.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Tip: Don't reveal your keys, if you do so by accident, go on the right and click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Roll key...\"))), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/18124ea76b9d81c697c8c5802f558959/6937a/stripe-dashboard.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"124.50000000000001%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAABYlAAAWJQFJUiTwAAADaElEQVQ4y41V7ZLiNhDk/Z8kb5E/SVU+OEgusMnlsrsYDBgjy5YtWbJsqVMzWji43a1aV02JAtzunukez1ptIaTC8/aA46mCsQPsMHI5P/E5jBMigN46dLqHGzzoinh9zQhAdT2DlaKGvgNM5+BHxDDB9j1a1fIZphFxmvj725rp3jFgZxz8FDGGCD8F/pwYTglwHF7TmUYEPyCMHmEcuGZCttgfBf573jHLWmlUTQfZdHfS6fq0XOGnn+f458sj5ou/oE2fpMeXIsm98+h6x30kyVSnc42TqEG/WU8ME2C23WOXH5DnR6zX/2IYXrNmhodC4HSWKMqKGY0BN5LTUKZpgrGOWSnVoe8tqqqGqCQa1eJYlGg7jRn1rzhLPG1y7A7lu1MOITBY07QQVY26VlBth7pR6DqD8lzB9BazopTIdgXyQ4ksL9AZy4MZxnAFJskxvmWSN2xzEg2y/IR9ccZmd8T+eAY9hHp6ZeiTDxfLFX75dYnf53/yUJZ/rOFc6iMpoIfOaKL7QjDQbn/i6UrVQXXmDpDGSL0qS5HqXKEoSkjZoJI1zkJCCJkkP2UHZLsjD4ek+jG8SP4GGAC09JBhvKaEKsTELoTI56w1FlJpltgwq5GtYn3gm9NQAkKvUOUbmKpA0DWCoZKITr/4MCbJ2/0JX5+SqZ+zPUTdYnAOtr9I9gmwfET5uEa2WmD7sETxdYWp2gFym9heAElOqz0etxqbXQdDHvz7R/jffsCQP2B4msNvlohGAl4DQ8cVrQJ6hTj5e0BiQTl+yvZsH6V77hkxu2aZGLYlTJmjK3M4eQRIrhaIWr70MSIwwzFA9wMDksl5GH5isNseRpmjyp9RZo9ojlvANoi6QlQFroEmH5KPjOlRiga9G69mvk9KSNvGtUmyaxFJbt/wyroDNLJCKwRka0C5polT0WK4M/Y7QaGvpylgCqlmdWtwOFXYbA+cZWLjLpK/yzIZuK4bNrOUNZRqr0m5Ru/25gvAe8th/fAF88VnfFqsOHoUxU2Www0DtDboaNvcAtyCvAVYNw51Y3gPEjNrHb9naAt1DGheM3yLMUcvRmjj4X24ncHrbfMhQGYYcRYVrLXfBvJdjjnLHwWkSZKkRnW8qWWtWDJuUnJNykcA6c/WDdwzWv9Unt6GMSXkAvg/8zCOIEanFo4AAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Stripe Dashboard\",\n    \"title\": \"Stripe Dashboard\",\n    \"src\": \"/static/18124ea76b9d81c697c8c5802f558959/5a190/stripe-dashboard.png\",\n    \"srcSet\": [\"/static/18124ea76b9d81c697c8c5802f558959/772e8/stripe-dashboard.png 200w\", \"/static/18124ea76b9d81c697c8c5802f558959/e17e5/stripe-dashboard.png 400w\", \"/static/18124ea76b9d81c697c8c5802f558959/5a190/stripe-dashboard.png 800w\", \"/static/18124ea76b9d81c697c8c5802f558959/6937a/stripe-dashboard.png 1094w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Now, run the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e-commerce-starter\"), \" project by running the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn run dev\"), \", and the project will be served in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localhost:3000\")), mdx(\"p\", null, \"When clicking on the cart, and proceed to do the payment, this is the view you'll get in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/checkout\"), \" page. \\uD83D\\uDE80\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4b782f6eb818a5c3a6d5ac6a5bb24b1e/cc6fe/checkout_page.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"60.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABAElEQVQoz62QSW7DMAxFff+r9BC9RnfddBEgsR1Zs0XyF6IdVTHSohOBZ1Gm+EBpyGZCen2BDRE+eBhvsTiHeVlgrMNlmjHOV80zEXIpO7Sxrsg5Nwb0kQLEToCdgWUC3HVnBup/MwL2utVrbi7a08cgImhQgeQEyVHhFJCs0fWG1tePM9oDNMedsIbs1GAWxJxBIiDeuNWkm0r793VALzvImRneezCR5hWt9bfqeqHCB9GERIgxNlkTdmeO8aWQiBBC0P2fhPVBZPsABAjL/0yYOeKc3sDCd2/8a+GYTng+PYGkPKx//8qHpiosvCr9tD+esAp8WRDJKYFcm/Yz4TuzY7SkzQFTsQAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Checkout page\",\n    \"title\": \"Checkout page\",\n    \"src\": \"/static/4b782f6eb818a5c3a6d5ac6a5bb24b1e/5a190/checkout_page.png\",\n    \"srcSet\": [\"/static/4b782f6eb818a5c3a6d5ac6a5bb24b1e/772e8/checkout_page.png 200w\", \"/static/4b782f6eb818a5c3a6d5ac6a5bb24b1e/e17e5/checkout_page.png 400w\", \"/static/4b782f6eb818a5c3a6d5ac6a5bb24b1e/5a190/checkout_page.png 800w\", \"/static/4b782f6eb818a5c3a6d5ac6a5bb24b1e/c1b63/checkout_page.png 1200w\", \"/static/4b782f6eb818a5c3a6d5ac6a5bb24b1e/29007/checkout_page.png 1600w\", \"/static/4b782f6eb818a5c3a6d5ac6a5bb24b1e/cc6fe/checkout_page.png 1860w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Let's go and add the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Pay\"), \" functionality!\"), mdx(\"hr\", null), mdx(\"p\", null, \"Install the below packages in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e-commerce-starter\"), \":\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"ts\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"yarn install stripe @stripe/stripe-js @stripe/react-stripe-js axios --save\"), \"\\n        \"), mdx(\"p\", null, \"Now, head back to the code editor and open the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"component/Layout.js\"), \"\\nfile and add these changes:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"ts\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"import { loadStripe } from \\\"@stripe/stripe-js\\\";\\nimport { Elements } from \\\"@stripe/react-stripe-js\\\";\\n\\nconst stripePromise = loadStripe(\\\"YOUR_STRIPE_PUBLISHABLE_KEY\\\");\"), \"\\n        \"), mdx(\"div\", {\n    \"className\": \"admonition admonition-warning alert alert--danger\"\n  }, mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-heading\"\n  }, mdx(\"h5\", {\n    parentName: \"div\"\n  }, mdx(\"span\", {\n    parentName: \"h5\",\n    \"className\": \"admonition-icon\"\n  }, mdx(\"svg\", {\n    parentName: \"span\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"width\": \"12\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 12 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z\"\n  }))), \"Note\")), mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-content\"\n  }, mdx(\"p\", {\n    parentName: \"div\"\n  }, \"You have to replace the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"YOUR_STRIPE_PUBLISHABLE_KEY\"), \" with your publishable Stripe's key before proceeding.\"))), mdx(\"p\", null, \"Now, we have a Stripe promise which resolves to Stripe's JavaScript file,\\nwe have to find a way to inject that Stripe's JavaScript object into the\\nrest of our Next.js components.\"), mdx(\"p\", null, \"To do that, we will use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Elements\"), \" provider from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-stripe-js\"), \"\\nlibrary, and wrap the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{props.children}\"), \" in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Elements\"), \" provider at line \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"48\"), \" in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/Layout.js\"), \" component:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"ts\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"<Elements stripe={stripePromise}>{props.children}</Elements>\"), \"\\n        \"), mdx(\"p\", null, \"Next, you'll need the Card input to provide the credit cart for the checkout, you'll use the Stripe's \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CardElement\"), \" component.\"), mdx(\"p\", null, \":::into Info\\nThe Card Element lets you collect card information all within one Element. It includes a dynamically-updating card brand icon as well as inputs for number, expiry, CVC, and postal code. - \", mdx(ExternalLink, {\n    href: \"https://stripe.com/docs/stripe-js\",\n    mdxType: \"ExternalLink\"\n  }, \"Resource\"), \"\\n:::\"), mdx(\"p\", null, \"Navigate to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/CheckoutForm.js\"), \" file and import the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CardElement\"), \" like so:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"ts\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"import { CardElement } from \\\"@stripe/react-stripe-js\\\";\"), \"\\n        \"), mdx(\"p\", null, \"Now, add the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CardElement\"), \" to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CardElementContainer\"), \", on line \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"88\")), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"ts\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"<CardElementContainer>\\n  <CardElement />\\n</CardElementContainer>\"), \"\\n        \"), mdx(\"p\", null, \"You should see now a Card input in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/checkout\"), \" page, check out the image below.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/282011d135ab36e11d2123e2588a5007/1dbe8/card_input.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"82%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABi0lEQVQ4y42TQY7bMAxFffjepIfosvsCBWbXrroq0CLj2LIkS4ol8hWynUTJNJkh8EFS4v8iLblbcub08zsnb7EhkXKhTwfMMuDmSD8a4rJwNBPjZFcMZiLERBZlKXLFstBRLQXwE0QP3myY7QZnILjrWo3nWjtvnLrm9xqgUwV1IzoeUDtsvmLqNxz/IqZHqh9f1/ha+4rWfNhzXQWVR+ZDZKkHAtLgEaNqdeegBbtPMVByppSy+7z6tuaGV0fepS9oN621xJTWXEQuOO9rw+NG8K7t8yFhnknvCd5Z1yjdFFV/Smkb9w5vOvyIYM2dc+T9mz0dueF3d/NeblBViPVSpCB7Z1Xs0mFT23b5pkOSQ30PcQLryWag+CMaDMkcyO4Iwaz5WqfyoMPzGKn+CQMaLT/+fOX34QWiQ+PEYnvKPEK0a67++ESwHVmhyInPvz7xrf+yboksG1kFFQEpHxy5/TZPTP/De3rLogWfDXO2hOw2XzYv+5jti3j3YVdSKqHBfIn1XrB5h/8AdxnsIOAtDusAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Card input\",\n    \"title\": \"Card input\",\n    \"src\": \"/static/282011d135ab36e11d2123e2588a5007/5a190/card_input.png\",\n    \"srcSet\": [\"/static/282011d135ab36e11d2123e2588a5007/772e8/card_input.png 200w\", \"/static/282011d135ab36e11d2123e2588a5007/e17e5/card_input.png 400w\", \"/static/282011d135ab36e11d2123e2588a5007/5a190/card_input.png 800w\", \"/static/282011d135ab36e11d2123e2588a5007/c1b63/card_input.png 1200w\", \"/static/282011d135ab36e11d2123e2588a5007/1dbe8/card_input.png 1374w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Let's go and change the styles of the Card input by adding\\nthe \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"options\"), \" prop to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CardElement\"), \" and passing there the\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cardElementOpts\"), \" variable that was pre-build with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e-commerce-starter\"), \", check out the below snippet.\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"ts\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"<CardElementContainer>\\n  <CardElement options={cardElementOpts} onChange={handleCardDetailsChange} />\\n</CardElementContainer>\"), \"\\n        \"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/496ad1ea626a144ec905c56cbdba38eb/1dbe8/card_input_designed.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"82%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABy0lEQVQ4y41STY/TMBDt30dcuO9umzi244+0atNrufZGRdIIAYJLhbRVRQF1U0TYsA95nGyzpVoS6ek9e2aeZ6IZKKUQv3oBGTEwIRErjZA7zREJgWEQQsYKozBEEDIEjJHmUkIZg1hrxNqz8xpYa2GlgOUhrIhgo9CDM4+ovQ/82WnHkvuabo61GBhjYVgAE9yc2CEceoyuG7463VPuqHO+9mdDhgY2GcOOxydutBtZuQeTBCYZE2vr9T81Lm6MH9mJLmzDUghopaC1blgRd3Oe1LmR6R82CfYsyBiDlJLOZNqgjZtOnX1i2EGb7CA4RxzHFzs5z20x6AbbBN2sgBCCDM9x3mXX+GKH0+kU8/mcxnA6TVOks5R4NptRbDKZPN9hC/f6ZrNBVVXY//iGw7FEWZYoj0fC4e4OdV1jtVrRBEmS/N9wt9uBvp8AKi9xXwO/7/HgGECe5+Cc9zPc3m6p6MPtEtvvn4AH4M+vilBX/oUsy/ob7r/uqUh+eYk3h9e49BVF0c/Q/ejlcok8X+Pj+jPe5e+pmzzLkTm8zVCsCywWC9qEHmtjaDW44BhGVxhFNwj48JEdXEwp3X9trE28sZEdiEf93GL/BS+U3kqRW6swAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Card input designed\",\n    \"title\": \"Card input designed\",\n    \"src\": \"/static/496ad1ea626a144ec905c56cbdba38eb/5a190/card_input_designed.png\",\n    \"srcSet\": [\"/static/496ad1ea626a144ec905c56cbdba38eb/772e8/card_input_designed.png 200w\", \"/static/496ad1ea626a144ec905c56cbdba38eb/e17e5/card_input_designed.png 400w\", \"/static/496ad1ea626a144ec905c56cbdba38eb/5a190/card_input_designed.png 800w\", \"/static/496ad1ea626a144ec905c56cbdba38eb/c1b63/card_input_designed.png 1200w\", \"/static/496ad1ea626a144ec905c56cbdba38eb/1dbe8/card_input_designed.png 1374w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Whoa! \\uD83D\\uDE80 Now that we have the Card input set-up, one thing is\\nmissing and that is the payment, we are not able to accept payments yet.\"), mdx(\"div\", {\n    \"className\": \"admonition admonition-info alert alert--info\"\n  }, mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-heading\"\n  }, mdx(\"h5\", {\n    parentName: \"div\"\n  }, mdx(\"span\", {\n    parentName: \"h5\",\n    \"className\": \"admonition-icon\"\n  }, mdx(\"svg\", {\n    parentName: \"span\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"width\": \"14\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 14 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"\n  }))), \"Note\")), mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-content\"\n  }, mdx(\"p\", {\n    parentName: \"div\"\n  }, \"Head over to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/CheckoutForm.js\"), \" to continue adding the payment functionality.\"))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"The steps we will do are:\")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Create a payment intent on the server\"), mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"One request to the Stripe node library, to get the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"client_secret\"), \" of that payment intent\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Create a payment method\"), mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"To create a payment method, we will need a reference of Stripe's object which has the function to create the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"payment method\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"When we create the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"payment method\"), \" we will need a reference to the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"CardElement\"), \" that we defined earlier.\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Confirm the card payment\"), mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"We will combine the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"payment method\"), \" id, and use the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"client_secret\"), \" that we'll get from the first step.\")))), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"1. Create a payment intent on the server\")), mdx(\"p\", null, \"Now, we will use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"axios\"), \" to make a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"post\"), \" request to the server-side of the Next.js app from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/CheckoutForm.js\"), \" file.\"), mdx(\"p\", null, \"First, import \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"axios\"), \" library to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/CheckoutForm.js\"), \" component as below.\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"ts\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"import axios from \\\"axios\\\";\"), \"\\n        \"), mdx(\"p\", null, \"Inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"handleSumit\"), \" function at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"61\"), \" line, paste the below code.\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"ts\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"try {\\n  const { data: clientSecret } = await axios.post(\\\"/api/payment_intents\\\", {\\n    amount: totalPrice * 100,\\n  });\\n\\n  console.log(\\\"clientSecret:\\\", clientSecret);\\n} catch (err) {\\n  setCheckoutError(err.message);\\n}\"), \"\\n        \"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"totalPrice\"), \" we are getting is from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"total\"), \" context,\\nthat holds the total price of all the products that are added on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Cart\"), \".\\nWhenever the price changes, it will end up into the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"total\"), \" context and\\ntriple down into our component \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/CheckoutForm.js\")), mdx(\"p\", null, \"Now, let's check what is happening on the server side,\\nnavigate to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pages/api/payment_intents.js\"), \". Check out the code snipped below:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"import Stripe from 'stripe';\\n\\nconst stripe = new Stripe(\\n    'YOUR_STRIPE_SECRET_KEY',\\n);\\n\\nexport default async (req, res) => {\\n    if (req.method === 'POST') {\\n        try {\\n            const { amount } = req.body;\\n\\n            const paymentIntent = await stripe.paymentIntents.create({\\n                amount,\\n                currency: 'usd',\\n            });\\n\\n            res.status(200).send(paymentIntent.client_secret);\\n        } catch (err) {\\n            res.status(500).json({ statusCode: 500, message: err.message });\\n        }\\n    } else {\\n        res.setHeader('Allow', 'POST');\\n        res.status(405).end('Method Not Allowed');\\n    }\\n};\"), \"\\n        \"), mdx(\"div\", {\n    \"className\": \"admonition admonition-note alert alert--secondary\"\n  }, mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-heading\"\n  }, mdx(\"h5\", {\n    parentName: \"div\"\n  }, mdx(\"span\", {\n    parentName: \"h5\",\n    \"className\": \"admonition-icon\"\n  }, mdx(\"svg\", {\n    parentName: \"span\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"width\": \"14\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 14 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z\"\n  }))), \"Note:\")), mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-content\"\n  }, mdx(\"p\", {\n    parentName: \"div\"\n  }, \"Provide your Stripe \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"secret key\"), \" on the 4th line on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pages/api/payment_intents.js\")))), mdx(\"p\", null, \"As you can see, for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/payment_intents\"), \" endpoint, we have a simple handler.\\nWe extract the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"amount\"), \" from the request body,\\nwe make a request to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"stripe.paymentIntents.create\"), \"\\nsending the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"amount\"), \" and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"currency\"), \", and we return the payment intents \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"client secret\"), \".\"), mdx(\"p\", null, \"Now, go back to Chrome and see what happens when we have the credit card number in the input \\uD83D\\uDE80\"), mdx(\"div\", {\n    \"className\": \"admonition admonition-note alert alert--secondary\"\n  }, mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-heading\"\n  }, mdx(\"h5\", {\n    parentName: \"div\"\n  }, mdx(\"span\", {\n    parentName: \"h5\",\n    \"className\": \"admonition-icon\"\n  }, mdx(\"svg\", {\n    parentName: \"span\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"width\": \"14\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 14 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z\"\n  }))), \"Note:\")), mdx(\"div\", {\n    parentName: \"div\",\n    \"className\": \"admonition-content\"\n  }, mdx(\"p\", {\n    parentName: \"div\"\n  }, \"Stripe provides test credit cards: for a default U.S. card \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"4242 4242 4242 4242\")))), mdx(\"p\", null, \"In the console tab of developer tools, if there are no errors,\\nyou'll see the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"clientSecret\"), \" logged.\"), mdx(\"p\", null, \"We will be using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"clientSecret\"), \" to confirm the card payment after we create the payment method!\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"2. Create a payment method\")), mdx(\"p\", null, \"Now, use the Stripe's createPaymentMethod, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"stripe.createPaymentMethod\"), \" in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/CheckoutForm.js\"), \" file, provide the card type that you'll get\\nfrom the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CardElement\"), \" of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-stripe-js\"), \" library, and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"billing_details\"), \" from our form, follow the snippets below.\"), mdx(\"p\", null, \"First, import the following from the Stripe's \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-stripe-js\"), \" library:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"import { CardElement, useStripe, useElements } from \\\"@stripe/react-stripe-js\\\";\"), \"\\n        \"), mdx(\"p\", null, \"Second, inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CheckoutForm\"), \" component, on line \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"53\"), \" add the reference to the elements\\nobject using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useElements()\"), \" hook and the reference to the Stripe object, using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useStripe()\"), \" hook.\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"js\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"const stripe = useStripe();\\nconst elements = useElements();\"), \"\\n        \"), mdx(\"p\", null, \"Third, paste the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"paymentMethodReq\"), \" method by placing it under the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"clientSecret\"), \" request in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"try and catch\"), \" statement.\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"tsx\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"try {\\n  const { data: clientSecret } = await axios.post(\\\"/api/payment_intents\\\", {\\n    amount: totalPrice * 100,\\n  });\\n\\n  console.log(\\\"clientSecret:\\\", clientSecret);\\n\\n  // create the payment method:\\n  const paymentMethodReq = await stripe.createPaymentMethod({\\n    type: \\\"card\\\",\\n    card: cardElement,\\n    billing_details: billingDetails,\\n  });\\n\\n  console.log(\\\"paymentMethodReq: \\\", paymentMethodReq);\\n} catch (err) {\\n  setCheckoutError(err.message);\\n}\"), \"\\n        \"), mdx(\"p\", null, \"Now let's head over to chrome's developer tools console. \\uD83D\\uDE42\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/940baf8e105b7288bd1bce588c5cb18f/84bf8/payment_method_req.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"33%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABQklEQVQoz5WPS2+jMBhF+S/zaJpHCwlQDNgmGChg0kwfBM1rUWk0i/7//amwqqqLLtrFkXylT9fner8en5j+/uf34xOpGYj0kYura75fChZBzpmfOd6+Z1RzpD6cqOyIan7QHCaMfcCr+4nh5o9DVUci1SPKG3xh2MQF26zGTwyrUBGklWO5U1xc7dlExetHXzYJXzcJXiw7TDti+gldjyjVocxA0d0jygFZH9HXt4i9RaqabN+7bOxIUhycXV4d2AnLVlg8oQfG0z/q9oGinAvvCaISP1b4sWa1UyxDxSrULPyM86105rPleSBZR5p1NGft8MK8xQ4TjekpdYfOC/JUkqeaTCguY82Zn7tpi618nejyO7jJjf2JKjpkaghjjRCadaj59lI0W30UL1E9VXtCyop2uCPdW5ZBxvLN0WdKnwERvu1UTA0TvAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Payment method Request\",\n    \"title\": \"Payment method Request\",\n    \"src\": \"/static/940baf8e105b7288bd1bce588c5cb18f/5a190/payment_method_req.png\",\n    \"srcSet\": [\"/static/940baf8e105b7288bd1bce588c5cb18f/772e8/payment_method_req.png 200w\", \"/static/940baf8e105b7288bd1bce588c5cb18f/e17e5/payment_method_req.png 400w\", \"/static/940baf8e105b7288bd1bce588c5cb18f/5a190/payment_method_req.png 800w\", \"/static/940baf8e105b7288bd1bce588c5cb18f/84bf8/payment_method_req.png 1162w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"This is what we'll get from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"paymentMethodReq\"), \",\\nit resolved to a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"paymentMethod\"), \" object which has a\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"paymentMethod\"), \" id which we'll going to use to confirm\\nthe card payment \\uD83C\\uDF89\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"3. Confirm the card payment\")), mdx(\"p\", null, \"Now, we'll confirm the card payment by using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"confirmCardPayment\"), \"\\nStripe's method in which we will provide the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"paymentMethod.id\"), \" we got earlier.\\nAdd the following snippet on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/CheckoutForm.js\"), \" file, just after the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"paymentMethodReq\"), \":\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"ts\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"const confirmCardPayment = await stripe.confirmCardPayment(clientSecret, {\\n  payment_method: paymentMethodReq.paymentMethod.id,\\n});\\n\\nconsole.log(\\\"confirmCardPayment: \\\", confirmCardPayment);\"), \"\\n        \"), mdx(\"p\", null, \"Now, go ahead at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localhost:3000\"), \" and add\\nsome products to the cart, and hit \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pay\"), \", check on the console\\nlog to find the below result:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/bef4ce8d3edb27603512e30b172a075f/84bf8/payment_intent.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"66%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB9ElEQVQ4y4WTa2+bMBSG80+KMeaWQIBwCTAggSSlmkrbaZq0j9v//w/PZMLaTVvaD684PrYO78VelWXJ88sXpqcXnp5fqKo9adbiOD5SmliW9Q9M0yRNU7quo65r9IymaaiqipVSisfpO1+//eTz4w+yvEfZNpalkFL+Z+C1J4Tg7u4OwzCuWOqVIQyiMGLoBrr6SJFVxFGM7TgoZWNKOUMs3zdYSGvBUusfrYQpSKKEvu0Z2p62bmiymCELyEIf31FsXEXo2Xi2wrUVa0cRuPa8t172166NVrvS1ONtzDiMXI4jx+bMULcMWciYrTnsNqQbl2zjkKwdYt+Z6yLQPXdep5tr/8pQaIY7poeJth5oi4EkPmCY1uyhlirMN5jL2jD/7mvo8yshDPK0oG8O3H+qOJcRnxKfIvTYhy556M1SfofxEWYPo23M5Xjm1PbUeUceJ2yDzeyL9unPhF+Tl/L2QO3h0J2o9xVplOC7Do6yZlmGMF+T1Wla1tUKeYuhvjb7bM+lHznWNfdNTZduOWUBbexTbr05AC0/XrvXQVK+I1kIyqJkGiemhycuw8jQ9eyi7exj4LkzW31dbGUtkt8ZqBmmScbjODEcThT5njhKcD0PIa3X9K6S5eKjdeMVLQx38Y7z8UK+S0gDl8i3bzL5SPIv56+IeYy225oAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Confirm Payment Method\",\n    \"title\": \"Confirm Payment Method\",\n    \"src\": \"/static/bef4ce8d3edb27603512e30b172a075f/5a190/payment_intent.png\",\n    \"srcSet\": [\"/static/bef4ce8d3edb27603512e30b172a075f/772e8/payment_intent.png 200w\", \"/static/bef4ce8d3edb27603512e30b172a075f/e17e5/payment_intent.png 400w\", \"/static/bef4ce8d3edb27603512e30b172a075f/5a190/payment_intent.png 800w\", \"/static/bef4ce8d3edb27603512e30b172a075f/84bf8/payment_intent.png 1162w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"We got the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"paymentIntent\"), \" id, and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"status\"), \" which is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"succeeded\"), \".\"), mdx(\"p\", null, \"Check out the below snippet, to get the full code for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components/CheckoutForm.js\"), \" file:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"import React, { useState, useContext } from 'react';\\n\\n// React context\\nimport { CartContext, TotalContext } from '../context/Context';\\nimport { Col, Row } from 'antd';\\n\\n// Components\\nimport { BillingDetailsFields } from '../components/BillingDetailsField';\\n\\n// styled components\\nimport styled from 'styled-components';\\nimport axios from 'axios';\\n\\n// Ant design\\nimport { Form, Button, Typography } from 'antd';\\nconst { Title } = Typography;\\n\\n// Stripe\\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\\n\\nconst iframeStyles = {\\n    base: {\\n        color: '#ff748c',\\n        fontSize: '16px',\\n        iconColor: '#ff748c',\\n        '::placeholder': {\\n            color: '#87bbfd',\\n        },\\n        border: '1px solid gray',\\n    },\\n    invalid: {\\n        iconColor: '#ff748c',\\n        color: '#ff748c',\\n    },\\n    complete: {\\n        iconColor: '#ff748c',\\n    },\\n};\\n\\nconst cardElementOpts = {\\n    iconStyle: 'solid',\\n    style: iframeStyles,\\n    hidePostalCode: true,\\n};\\n\\nconst CardElementContainer = styled.div`\\n    height: 40px;\\n    display: flex;\\n    align-items: center;\\n    & .StripeElement {\\n        width: 100%;\\n        padding: 15px;\\n    }\\n`;\\n\\nconst CheckoutForm = () => {\\n    const [form] = Form.useForm();\\n    const [cart, setCart] = useContext(CartContext);\\n    const [isProcessing, setProcessingTo] = useState(false);\\n\\n    const stripe = useStripe();\\n    const elements = useElements();\\n\\n    console.log('stripe');\\n\\n    const [totalPrice, settotalPrice] = useContext(TotalContext);\\n\\n    const [checkoutError, setCheckoutError] = useState();\\n    const [checkoutSuccess, setCheckoutSuccess] = useState();\\n\\n    const handleCardDetailsChange = (ev) => {\\n        ev.error ? setCheckoutError(ev.error.message) : setCheckoutError();\\n    };\\n\\n    const handleSubmit = async (e) => {\\n        // e.preventDefault();\\n        const billingDetails = {\\n            name: e.name,\\n            email: e.email,\\n            address: {\\n                city: e.city,\\n                state: e.state,\\n                postal_code: e.zip,\\n            },\\n        };\\n\\n        setProcessingTo(true);\\n        const cardElement = elements.getElement('card');\\n\\n        try {\\n            const { data: clientSecret } = await axios.post(\\n                '/api/payment_intents',\\n                {\\n                    amount: totalPrice * 100,\\n                },\\n            );\\n\\n            const paymentMethodReq = await stripe.createPaymentMethod({\\n                type: 'card',\\n                card: cardElement,\\n                billing_details: billingDetails,\\n            });\\n\\n            if (paymentMethodReq.error) {\\n                setCheckoutError(paymentMethodReq.error.message);\\n                setProcessingTo(false);\\n                return;\\n            }\\n\\n            const {\\n                error,\\n                paymentIntent: { status },\\n            } = await stripe.confirmCardPayment(clientSecret, {\\n                payment_method: paymentMethodReq.paymentMethod.id,\\n            });\\n\\n            if (error) {\\n                setCheckoutError(error.message);\\n                return;\\n            }\\n\\n            if (status === 'succeeded') {\\n                setCheckoutSuccess(true);\\n                setCart([]);\\n                settotalPrice(0);\\n            }\\n        } catch (err) {\\n            setCheckoutError(err.message);\\n        }\\n    };\\n\\n    if (checkoutSuccess)\\n        return <Title level={4}>Payment was successfull!</Title>;\\n\\n    return (\\n         <>\\n            <Row>\\n                <Col\\n                    xs={{ span: 10, offset: 4 }}\\n                    lg={{ span: 10, offset: 6 }}\\n                    span={24}\\n                >\\n                    <Form\\n                        form={form}\\n                        name=\\\"checkout\\\"\\n                        onFinish={handleSubmit}\\n                        scrollToFirstError\\n                    >\\n                        <BillingDetailsFields />\\n                        <CardElementContainer>\\n                            <CardElement\\n                                options={cardElementOpts}\\n                                onChange={handleCardDetailsChange}\\n                            />\\n                        </CardElementContainer>{' '}\\n                        {checkoutError && (\\n                            <span style={{ color: 'red' }}>{checkoutError}</span>\\n                        )}\\n                        <br />\\n                        <Form.Item>\\n                            <Button\\n                                type=\\\"primary\\\"\\n                                htmlType=\\\"submit\\\"\\n                                disabled={isProcessing || !stripe}\\n                            >\\n                                {isProcessing ? 'Processing...' : `Pay $${totalPrice}`}\\n                            </Button>\\n                        </Form.Item>\\n                    </Form>\\n                </Col>\\n            </Row>\\n        </>\\n    );\\n};\\n\\nexport default CheckoutForm;\"), \"\\n        \"), mdx(\"p\", null, \"So far, we successfully created a functional payment integration with Stripe. \\uD83C\\uDF89 We started by\\nadding the card input with Stripe javascript libraries, and continued with the set-up of\\npayment intent, the payment method, and lastly, confirm the card payment.\"), mdx(\"h2\", {\n    \"id\": \"summary\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Summary\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#summary\",\n    \"aria-label\": \"summary permalink\",\n    \"className\": \"heading-link-anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 24 24\",\n    \"stroke\": \"currentColor\"\n  }, \"\\n                              \", mdx(\"path\", {\n    parentName: \"svg\",\n    \"strokeLineCap\": \"round\",\n    \"strokeLineJoin\": \"round\",\n    \"strokeWidth\": \"2\",\n    \"d\": \"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n  }), \"\\n                            \"))), mdx(\"p\", null, \"We've created a simple e-commerce:\"), mdx(\"ul\", {\n    \"className\": \"contains-task-list\"\n  }, mdx(\"li\", {\n    parentName: \"ul\",\n    \"className\": \"task-list-item\"\n  }, mdx(\"input\", {\n    parentName: \"li\",\n    \"type\": \"checkbox\",\n    \"checked\": true,\n    \"disabled\": true\n  }), \" \", \"With Hoola AI Headless CMS for the back-end project and we created the content models for the e-commerce\"), mdx(\"li\", {\n    parentName: \"ul\",\n    \"className\": \"task-list-item\"\n  }, mdx(\"input\", {\n    parentName: \"li\",\n    \"type\": \"checkbox\",\n    \"checked\": true,\n    \"disabled\": true\n  }), \" \", \"Fetched the data from the Headless CMS to the Next.js project using Apollo GraphQL\"), mdx(\"li\", {\n    parentName: \"ul\",\n    \"className\": \"task-list-item\"\n  }, mdx(\"input\", {\n    parentName: \"li\",\n    \"type\": \"checkbox\",\n    \"checked\": true,\n    \"disabled\": true\n  }), \" \", \"Integrated Stripe Payment Intents to implement the shopping cart\")), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/0592d380ca6e97c74d760f7f0be063d9/yay.gif\",\n    \"alt\": \"YAY\"\n  })), mdx(\"p\", null, \"You did it!!! \\uD83D\\uDE80 Now you can continue extending the functionalities\\nof the e-commerce project and explore the possible solutions with Hoola AI Headless CMS!\"), mdx(\"p\", null, \"If you like the post please share it on \", mdx(ExternalLink, {\n    href: \"https://twitter.com/WebinyCMS\",\n    mdxType: \"ExternalLink\"\n  }, \"Twitter \"), \".\\nHoola AI has a very welcoming Community! If you have any questions,\\nplease \", mdx(ExternalLink, {\n    href: \"http://hoola.ai/slack?utm_source=Hoola AI-blog&utm_medium=webiny-h3-tutorial&utm_campaign=webiny-blog-e-commerce-next-oct-26&utm_content=webiny-slack-community&utm_term=W00260\",\n    mdxType: \"ExternalLink\"\n  }, \"join us on slack \"), \".\"), mdx(\"p\", null, \"You can also follow us on Twitter \", mdx(ExternalLink, {\n    href: \"https://twitter.com/WebinyCMS\",\n    mdxType: \"ExternalLink\"\n  }, \"@WebinyCMS\"), \".\"), mdx(\"hr\", null), mdx(\"p\", null, \"Thanks for reading! My name is \", mdx(ExternalLink, {\n    href: \"https://twitter.com/albionaitoh\",\n    mdxType: \"ExternalLink\"\n  }, \" Albiona \"), \" and\\nI work as a developer relations engineer at Hoola AI. I enjoy learning new tech and building communities around them = )\\nIf you have any questions, comments or just wanna say hi, feel free to reach out to me via \", mdx(ExternalLink, {\n    href: \"https://twitter.com/albionaitoh\",\n    mdxType: \"ExternalLink\"\n  }, \" Twitter \"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"author":"albiona","slug":"blog/tutorial-e-commerce-nextjs-stripe","title":"Build an E-commerce Website with Hoola AI Serverless Headless CMS, Next.js, and Stripe","description":"You'll learn how to create an e-commerce website using Hoola AI Serverless Headless CMS, Next.js, and Stripe.","tags":["Serverless","Web development","Javascript","Software Development","GraphQL"],"date":"November 16, 2020","featureImage":{"publicURL":"/static/c21fe193b5d553896f913ebeebfd0fb1/e-commerce-tutorial-nextjs-stripe.png","childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB40lEQVQoz3WTT08TURTFB1f4iXThZ/EbmLjQJRLcGWVXY+KuG0JcEUIEwkKIkSjpprRApfR/pzPvzZ92WkttOzM/8950xoJxcfLm5r537rnn3jEQghSxbWtEtg2ux/mXYz5vbVE6OaFZKNAtFnV++W76nXIYdxMWpLErwPcgGEIQQL8Pvq9zoWUlhS1LY7mAsawOzwfHBUcQ/uwQtUxC2yLs9TRJ+pjRCFwXhkMYDO4qzMgcj/iqSFyvENVtJjsX/D6sgKnUOiAlOA6Tdps3a2u8XV9nc2ODg+1trT5aqDYSMoe4VWf++ilh7gXRdZPb3Stmx1VG1Rq9Ukl7KMplTfhtb4/v+/vs5PNUTk+T9wuVCaGURJ0W84+vCD/lQNpE7cTPmWlil8vIy0vGzaZuX7esfFXnYJAMUQjmllKoWlbe9AfE0tFASJCCON0Ax0mg2hYi81ORp4LUOe70MNDDcKmdnRGp6qmn9t/J3Ud2R0puW22mnQ7Tnp0onJoWsePz5NFjXj57DsEkM/h/O5fFUhLUavjVG7xqnblpYoTCpfj1Bw9XVzEMgw/vNrU3WTtLi3//J1CE42ZLt+pd3/Cr0cBgMiGfe6/JFB6srFA4OtKmhwsL/iFbIgzqDdrnF8y6XR3/AT0cH+8WeokrAAAAAElFTkSuQmCC","aspectRatio":1.7699115044247788,"src":"/static/c21fe193b5d553896f913ebeebfd0fb1/ee604/e-commerce-tutorial-nextjs-stripe.png","srcSet":"/static/c21fe193b5d553896f913ebeebfd0fb1/69585/e-commerce-tutorial-nextjs-stripe.png 200w,\n/static/c21fe193b5d553896f913ebeebfd0fb1/497c6/e-commerce-tutorial-nextjs-stripe.png 400w,\n/static/c21fe193b5d553896f913ebeebfd0fb1/ee604/e-commerce-tutorial-nextjs-stripe.png 800w,\n/static/c21fe193b5d553896f913ebeebfd0fb1/f3583/e-commerce-tutorial-nextjs-stripe.png 1200w,\n/static/c21fe193b5d553896f913ebeebfd0fb1/5707d/e-commerce-tutorial-nextjs-stripe.png 1600w,\n/static/c21fe193b5d553896f913ebeebfd0fb1/eeb1b/e-commerce-tutorial-nextjs-stripe.png 1920w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},"pageContext":{"slug":"blog/tutorial-e-commerce-nextjs-stripe"}},"staticQueryHashes":["144257237"]}